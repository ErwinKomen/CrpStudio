<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 12 (filtered)">
<title>CorpusStudio</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
h1
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:21.55pt;
	text-indent:-21.55pt;
	page-break-before:always;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Times New Roman","serif";}
h2
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:28.8pt;
	text-indent:-28.8pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
h3
	{mso-style-link:"Kop 3 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:42.55pt;
	text-indent:-42.55pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	font-weight:normal;
	font-style:italic;}
h4
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:43.2pt;
	text-indent:-43.2pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman","serif";}
h5
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:50.4pt;
	text-indent:-50.4pt;
	font-size:13.0pt;
	font-family:"Times New Roman","serif";
	font-style:italic;}
h6
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:57.6pt;
	text-indent:-57.6pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:64.8pt;
	text-indent:-64.8pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:72.0pt;
	text-indent:-72.0pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	font-style:italic;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:79.2pt;
	text-indent:-79.2pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:11.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:22.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:33.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:44.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:55.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:66.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:77.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:88.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{mso-style-link:"Voetnoottekst Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	text-align:center;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	font-style:italic;}
span.MsoFootnoteReference
	{vertical-align:super;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-align:center;
	font-size:16.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:24.0pt;
	margin-left:0cm;
	text-align:center;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{color:#C00000;
	text-decoration:none;}
a:visited, span.MsoHyperlinkFollowed
	{color:#606420;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{margin:0cm;
	margin-bottom:.0001pt;
	background:navy;
	font-size:12.0pt;
	font-family:"Tahoma","sans-serif";}
pre
	{mso-style-link:"HTML - vooraf opgemaakt Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Ballontekst Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-before:always;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
p.ParaFirst, li.ParaFirst, div.ParaFirst
	{mso-style-name:ParaFirst;
	mso-style-link:"ParaFirst Char";
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.ParaNext, li.ParaNext, div.ParaNext
	{mso-style-name:ParaNext;
	mso-style-link:"ParaNext Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-indent:1.0cm;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
span.BallontekstChar
	{mso-style-name:"Ballontekst Char";
	mso-style-link:Ballontekst;
	font-family:"Tahoma","sans-serif";}
span.Emphatic
	{mso-style-name:Emphatic;
	color:#00B050;
	font-weight:bold;}
p.FigureKeep, li.FigureKeep, div.FigureKeep
	{mso-style-name:FigureKeep;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.Function, li.Function, div.Function
	{mso-style-name:Function;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:70.9pt;
	margin-bottom:.0001pt;
	text-indent:-70.9pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
span.Argument
	{mso-style-name:Argument;
	color:#7030A0;}
span.ProgramCode
	{mso-style-name:ProgramCode;
	font-family:"Courier New";
	color:#984806;}
p.HalfLine, li.HalfLine, div.HalfLine
	{mso-style-name:HalfLine;
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:6.0pt;
	font-family:"Times New Roman","serif";}
span.VoetnoottekstChar
	{mso-style-name:"Voetnoottekst Char";
	mso-style-link:Voetnoottekst;}
span.ParaFirstChar
	{mso-style-name:"ParaFirst Char";
	mso-style-link:ParaFirst;}
span.ParaNextChar
	{mso-style-name:"ParaNext Char";
	mso-style-link:ParaNext;}
span.HTML-voorafopgemaaktChar
	{mso-style-name:"HTML - vooraf opgemaakt Char";
	mso-style-link:"HTML - vooraf opgemaakt";
	font-family:"Courier New";}
span.Kop3Char
	{mso-style-name:"Kop 3 Char";
	mso-style-link:"Kop 3";
	font-family:"Arial","sans-serif";
	font-style:italic;}
span.CodeInLine
	{mso-style-name:CodeInLine;
	font-family:"Courier New";
	color:#002060;}
p.norm, li.norm, div.norm
	{mso-style-name:norm;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
p.EndNoteBibliographyTitle, li.EndNoteBibliographyTitle, div.EndNoteBibliographyTitle
	{mso-style-name:"EndNote Bibliography Title";
	mso-style-link:"EndNote Bibliography Title Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
span.EndNoteBibliographyTitleChar
	{mso-style-name:"EndNote Bibliography Title Char";
	mso-style-link:"EndNote Bibliography Title";}
p.EndNoteBibliography, li.EndNoteBibliography, div.EndNoteBibliography
	{mso-style-name:"EndNote Bibliography";
	mso-style-link:"EndNote Bibliography Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
span.EndNoteBibliographyChar
	{mso-style-name:"EndNote Bibliography Char";
	mso-style-link:"EndNote Bibliography";}
p.ExportTable, li.ExportTable, div.ExportTable
	{mso-style-name:ExportTable;
	margin-top:0cm;
	margin-right:113.3pt;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	background:#DAEEF3;
	font-size:10.0pt;
	font-family:"Courier New";}
.MsoChpDefault
	{font-size:10.0pt;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:70.9pt 70.9pt 70.9pt 70.9pt;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:595.3pt 841.9pt;
	margin:70.9pt 70.9pt 70.9pt 70.9pt;}
div.WordSection2
	{page:WordSection2;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=NL link="#C00000" vlink="#606420">

<div class=WordSection1>

<p class=MsoTitle><span lang=EN-US>C<a name="_Ref312489730"></a>orpus Studio</span></p>

<p class=MsoTitle><span lang=EN-US>the web application</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal align=center style='text-align:center'><img width=188
height=66 id="Afbeelding 5" src="CrpStudioWeb-Manual_bestanden/image001.png"
alt="logo_cs.png"></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal align=center style='text-align:center'><i><span lang=EN-US>Version
1.7</span></i></p>

<p class=MsoNormal align=center style='text-align:center'><i><span lang=EN-US>First
edition: June 30, 2015</span></i></p>

<p class=MsoNormal align=center style='text-align:center'><i><span lang=EN-US>This
edition: </span></i><i><span
lang=EN-US>December 29, 2015</span></i></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal align=center style='text-align:center'>Erwin R. Komen</p>

<p class=MsoNormal align=center style='text-align:center'>Meertens Instituut //
CLARIN-NL // SIL-International</p>

</div>

<b><span style='font-size:18.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span></b>

<div class=WordSection2>

<p class=MsoNormal><b><span lang=EN-US style='font-size:18.0pt'>Contents</span></b></p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:18.0pt'>&nbsp;</span></b></p>

<p class=MsoToc1><span
lang=EN-US>1</span><span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span><span
lang=EN-US>Introduction</span>............................................................................................................................ 4</p>

<p class=MsoToc1><span lang=EN-US>2</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>Getting started</span>........................................................................................................................ 6</p>

<p class=MsoToc2><span lang=EN-US>2.1</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>Requirements</span>................................................................................................................... 6</p>

<p class=MsoToc2>2.2<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>First
use........................................................................................................................... 6</p>

<p class=MsoToc2>2.3<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>This
documentation.......................................................................................................... 6</p>

<p class=MsoToc1>3<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Users
and accounts................................................................................................................. 7</p>

<p class=MsoToc1>4<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Corpora................................................................................................................................. 8</p>

<p class=MsoToc2>4.1<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
“Corpora/Explore” page............................................................................................ 8</p>

<p class=MsoToc2>4.2<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
“Corpora/Edit” page................................................................................................. 8</p>

<p class=MsoToc2>4.3<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
“Corpora/Grouping” page......................................................................................... 9</p>

<p class=MsoToc2>4.4<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
“Corpora/Variables” page......................................................................................... 9</p>

<p class=MsoToc1>5<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Databases............................................................................................................................ 10</p>

<p class=MsoToc2>5.1<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
“Database/Overview” page..................................................................................... 10</p>

<p class=MsoToc2>5.2<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
“Database/Edit” page.............................................................................................. 10</p>

<p class=MsoToc1>6<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Projects................................................................................................................................ 11</p>

<p class=MsoToc2>6.1<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
“Projects/Project” page........................................................................................... 11</p>

<p class=MsoToc3>6.1.1<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>CRP
identification.................................................................................................... 11</p>

<p class=MsoToc3>6.1.2<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
CRP’s “General” information............................................................................ 12</p>

<p class=MsoToc3>6.1.3<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Test
version............................................................................................................. 13</p>

<p class=MsoToc2>6.2<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
“Projects/Input” page.............................................................................................. 14</p>

<p class=MsoToc2>6.3<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
“Projects/Definitions” page...................................................................................... 15</p>

<p class=MsoToc3>6.3.1<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Editing
a definition file.............................................................................................. 16</p>

<p class=MsoToc3><span lang=EN-US>6.3.2</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>Creating
a new definition file</span>.................................................................................... 17</p>

<p class=MsoToc3><span lang=EN-US>6.3.3</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>Importing
a definition file</span>.......................................................................................... 17</p>

<p class=MsoToc3><span lang=EN-US>6.3.4</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>Removing
a definition file</span>......................................................................................... 17</p>

<p class=MsoToc3><span lang=EN-US>6.3.5</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>Exporting
a definition file</span>.......................................................................................... 17</p>

<p class=MsoToc3><span lang=EN-US>6.3.6</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>Coding a
definition file</span>............................................................................................. 18</p>

<p class=MsoToc2><span lang=EN-US>6.4</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>The “Projects/Queries” page</span>.......................................................................................... 19</p>

<p class=MsoToc3>6.4.1<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Query
creation........................................................................................................ 20</p>

<p class=MsoToc3><span lang=EN-US>6.4.2</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>Coding
queries for CorpusStudio</span>............................................................................. 21</p>

<p class=MsoToc2><span lang=EN-US>6.5</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>The “Projects/Pipeline”
page</span>.......................................................................................... 24</p>

<p class=MsoToc2><span lang=EN-US>6.6</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>The “Projects/Features”
page</span>......................................................................................... 25</p>

<p class=MsoToc2><span lang=EN-US>6.7</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>Query execution</span>............................................................................................................. 26</p>

<p class=MsoToc2>6.8<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
“Results” page......................................................................................................... 30</p>

<p class=MsoToc3>6.8.1<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>The
results overview................................................................................................ 30</p>

<p class=MsoToc3>6.8.2<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Result
details: “per hit”............................................................................................. 32</p>

<p class=MsoToc3>6.8.3<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Result
details: “per document”.................................................................................. 33</p>

<p class=MsoToc3>6.8.4<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Result
details: “per group”........................................................................................ 35</p>

<p class=MsoToc3>6.8.5<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Result
details: “per division”..................................................................................... 35</p>

<p class=MsoToc1><span lang=EN-US>7</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>Bibliography</span>......................................................................................................................... 36</p>

<p class=MsoToc1><span lang=EN-US>8</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>Appendix</span>............................................................................................................................. 37</p>

<p class=MsoToc2><span lang=EN-US>8.1</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>Adapt CorpusStudio for use
with other corpora</span>.............................................................. 37</p>

<p class=MsoToc3>8.1.1<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Requirements.......................................................................................................... 37</p>

<p class=MsoToc3>8.1.2<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Installation............................................................................................................... 37</p>

<p class=MsoToc3><span lang=EN-US>8.1.3</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>File
crp-info.json</span>..................................................................................................... 39</p>

<p class=MsoToc3><span lang=EN-US>8.1.4</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>File
crpstudio-settings.json</span>....................................................................................... 40</p>

<p class=MsoToc3><span lang=EN-US>8.1.5</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>File
crpp-settings.json</span>.............................................................................................. 41</p>

<p class=MsoToc3>8.1.6<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Software
sources..................................................................................................... 43</p>

<p class=MsoToc3><span lang=EN-US>8.1.7</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>Running</span>................................................................................................................... 43</p>

<p class=MsoToc2><span lang=EN-US>8.2</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>Useful Xquery function
definitions</span>................................................................................... 43</p>

<p class=MsoToc3>8.2.1<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Functions
for Psdx projects..................................................................................... 44</p>

<p class=MsoToc3><span lang=EN-US>8.2.2</span><span lang=EN-GB
style='font-family:"Calibri","sans-serif"'>    </span><span lang=EN-US>Convert
a chain into a sequence</span>............................................................................... 44</p>

<p class=MsoToc2><span lang=EN-US>8.3</span><span lang=EN-GB style='font-family:
"Calibri","sans-serif"'>    </span><span lang=EN-US>Built-in functions for
Xquery-psdx projects</span>..................................................................... 46</p>

<p class=MsoToc3>8.3.1<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:back...................................................................................................... 46</p>

<p class=MsoToc3>8.3.2<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:conv...................................................................................................... 47</p>

<p class=MsoToc3>8.3.3<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:docroot................................................................................................. 47</p>

<p class=MsoToc3>8.3.4<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:feature................................................................................................... 47</p>

<p class=MsoToc3>8.3.5<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:header................................................................................................... 47</p>

<p class=MsoToc3>8.3.6<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:lex......................................................................................................... 47</p>

<p class=MsoToc3>8.3.7<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:line........................................................................................................ 48</p>

<p class=MsoToc3>8.3.8<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:matches................................................................................................. 48</p>

<p class=MsoToc3>8.3.9<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:message................................................................................................ 48</p>

<p class=MsoToc3>8.3.10<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:mdi...................................................................................................... 49</p>

<p class=MsoToc3>8.3.11<span lang=EN-GB style='font-family:"Calibri","sans-serif"'>    </span>Function
ru:nodeText............................................................................................. 49</p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:18.0pt'>&nbsp;</span></b></p>

<p class=MsoNormal><b><span lang=EN-US style='font-size:18.0pt'>&nbsp;</span></b></p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><a name="_Toc312497010"></a><a name="_Toc298090973"><span lang=EN-US>1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Introduction</span></a></h1>

<p class=ParaFirst><span lang=EN-US>The ‘Corpus Studio’ web application is a
web-orientend environment that aims to facilitate in-depth quantitative
syntactic research for linguists. It does so by supporting researchers in
writing queries that operate on syntactically parsed text corpora in a number
of major <i>xml</i> formats. Queries that belong together are kept in <i>xml</i>
documents that are called ‘Corpus Research Projects’ (CRPs). These documents
contain the queries, the order in which they are to be executed,
meta-information about the queries and the project as a whole, as well as a
specification of the input used for the project. The use of CRPs helps improve
the replicability of corpus research.</span></p>

<p class=ParaFirst><span lang=EN-US>Potential users of the Corpus Studio web
application should be aware of what the program offers and what its limitations
are.</span></p>

<p class=ParaFirst style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>(1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=Emphatic><span lang=EN-US>Texts</span></span><span lang=EN-US> – While
the <i>xml</i></span><span lang=EN-US> query engine is, in principle, able to
support queries on any kind of <i>xml</i>-encoded texts, the current version
has been developed to handle two <i>xml</i> encodings: (a) FoLiA, and (b) Psdx.
There is some support for Alpino (the alpino_ds format).</span></p>

<p class=ParaFirst style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>(2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=Emphatic><span lang=EN-US>Corpora</span></span><span lang=EN-US> – The
CLARIN-NL version of the Corpus Studio web application offers a limited number
of syntactically annotated corpora to users. Please consult the program’s
“corpora” page for an overview of them. Wishes to add texts (or corpora) can be
communicated to CLARIN-NL.</span></p>

<p class=ParaFirst style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US>(3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=Emphatic><span lang=EN-US>Versions</span></span><span lang=EN-US> –
Developers are allowed to deploy the web version of Corpus Studio on their own
servers in order to provide users access to the corpora they offer.</span></p>

<p class=ParaFirst><span lang=EN-US>The query language used in the Corpus
Studio web application is “Xquery” </span><span
lang=EN-US>(<a href="#_ENREF_1" title="Boag, 2010 #326">Boag et al. 2010</a>)</span><span
lang=EN-US>. The particular implementation of Xquery currently used is a freely
available one developed by Saxon. The Xquery language </span><span lang=EN-US>(and
its associated Xsl as well as Xpath) is a well guided public domain initiative
for general research work in XML-coded texts and databases. When corpora are
coded in XML, then Xquery provides one of the most generally accepted ways to
query them.</span></p>

<p class=ParaFirst><span lang=EN-US>The basic unit in CorpusSearch is the <i>Corpus
Research Project</i>, containing the following elements:</span></p>

<p class=ParaFirst style='margin-left:35.45pt;text-indent:-14.15pt'><span
lang=EN-US>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>General information about a corpus research project, such as date,
author, purpose.</span></p>

<p class=ParaFirst style='margin-left:35.45pt;text-indent:-14.15pt'><span
lang=EN-US>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
lang=EN-US>All the queries, user-defined functions and variables used by the
project.</span></p>

<p class=ParaFirst style='margin-left:35.45pt;text-indent:-14.15pt'><span
lang=EN-US>c)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>The hierarchical order in which the queries are to be executed.</span></p>

<p class=ParaFirst style='margin-left:35.45pt;text-indent:-14.15pt'><span
lang=EN-US>d)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
lang=EN-US>The names and order of the database features, should a query lead to
the creation of a 'Result Database'.</span></p>

<p class=ParaFirst style='margin-left:35.45pt;text-indent:-14.15pt'><span
lang=EN-US>e)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>A directory or a list of input files to be used for the queries.</span></p>

<p class=ParaFirst><span lang=EN-US>Since the corpus research projects comprise
all the data needed to perform a particular task on a (selectable) set of input
files, they offer advantages over the traditional approach of using
command-line functions for corpus research. To name but a few of the advantages:</span></p>

<p class=ParaFirst style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Exchange</span></span><span
lang=EN-US> of corpus research projects between researchers. It will be easy to
see just how your colleague has dealt with the data.</span></p>

<p class=ParaFirst style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Assistance in </span><span class=Emphatic><span
lang=EN-US>teaching</span></span><span lang=EN-US> courses on corpus research.</span></p>

<p class=ParaFirst style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>CRPs are a form for students to hand in </span><span
class=Emphatic><span lang=EN-US>assignments</span></span><span lang=EN-US> on
corpus research work.</span></p>

<p class=ParaFirst style='margin-left:36.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>An easier way to track </span><span
class=Emphatic><span lang=EN-US>errors</span></span><span lang=EN-US> in corpus
research projects, since all the steps that are taken to find the constructions
one is looking for are together in one place.</span></p>

<h1><a name="_Toc312497011"></a><a name="_Toc298090974"><span lang=EN-US>2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Getting started</span></a></h1>

<p class=ParaFirst><span lang=EN-US>The Corpus Studio web application is
web-based, which means that the requirements to run it are minimal. This
document mainly concentrates on the CLARIN-NL version of the Corpus Studio web
application, which facilitates a limited number of corpora. Those interested to
use the Corpus Studio web application for other text corpora should read on in
section<b> </b><b>8.1</b>. </span></p>

<h2><a name="_Toc312497012"></a><a name="_Toc298090975"><span lang=EN-US>2.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Requirements</span></a></h2>

<p class=ParaFirst><span lang=EN-US>No installation is necessary to work with the
Corpus Studio web application. What is needed is a browser such as Internet
Explorer (version 9 or higher), FireFox, Chrome or Safari. The web application
only uses HTML and JavaScript on client computers. The URL of the Corpus Studio
web application can be found by visiting the CLARIN-NL project page:</span></p>

<p class=ParaFirst><span lang=EN-US><a href="http://www.clarin.nl/node/2091">http://www.clarin.nl/node/2091</a></span></p>

<h2><a name="_Toc312497013"></a><a name="_Toc298090976">2.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>First use</a></h2>

<p class=ParaFirst><span lang=EN-US>To get to the CLARIN-NL <a
href="http://www.clarin.nl/node/2091">project page</a>, one has to login as a
CLARIN user. Clicking through to the Corpus Studio web application’s page
brings one to another login request. This is the login facility of Corpus
Studio. Any CLARIN user can choose to make use of Corpus Studio Web through one
or more named accounts (see section </span><span
lang=EN-US>3</span><span lang=EN-US>).</span></p>

<p class=ParaFirst><span lang=EN-US>For now it suffices to pick a user login
name of your liking, and a new password that accompanies it. Once a password
has been used for the first time, it will automatically be checked upon
subsequent login attempts.</span></p>

<p class=ParaFirst><span lang=EN-US>The main menu of the web program consists
of:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Corpora</span></span><span
lang=EN-US>. Find out more about the corpora that are currently available
within the CLARIN-NL version of </span><span lang=EN-US>the Corpus Studio web
application</span><span lang=EN-US>. (Note: it is possible to install other
corpora in one’s own, custom, version of the web program; see </span><span lang=EN-US>8.1</span><span lang=EN-US>)</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
class=Emphatic><span lang=EN-US style='font-family:Symbol;color:windowtext;
font-weight:normal'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span class=Emphatic><span lang=EN-US>Databases</span></span><span
class=Emphatic><span lang=EN-US style='color:windowtext;font-weight:normal'>.
Collections of results created by Projects. Handling them is a future option
for the CorpusStudio web application.</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Projects</span></span><span
lang=EN-US>. This is the place where CRPs (Corpus Research Projects) can be
loaded, edited and executed. The results of executing a CRP also appear in this
location.. </span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
class=Emphatic><span lang=EN-US style='font-family:Symbol;color:windowtext;
font-weight:normal'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span class=Emphatic><span lang=EN-US>About</span></span><span
class=Emphatic><span lang=EN-US style='color:windowtext;font-weight:normal'>.
Background information about the program and a bibliographic reference that can
be used to refer to it.</span></span></p>

<h2><a name="_Toc312497014">2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>This documentation</a></h2>

<p class=ParaFirst><span class=Emphatic><span lang=EN-US style='color:windowtext;
font-weight:normal'>This document is to be used as background an information
where the application itself is not clear. The web application of CorpusStudio
relieves the user from the necessity to keep track of input and output
directories, locations of corpora and so on. This is an improvement with
respect to the Windows version of CorpusStudio.</span></span></p>

<p class=ParaFirst><span class=Emphatic><span lang=EN-US style='color:windowtext;
font-weight:normal'>A good starting point for an overview is section 5, which
runs through all the essential parts of the </span><span lang=EN-US>Projects</span></span><span
class=Emphatic><span lang=EN-US style='color:windowtext;font-weight:normal'>
main menu. </span></span></p>

<p class=ParaFirst><span class=Emphatic><span lang=EN-US style='color:windowtext;
font-weight:normal'>Several specific tasks are dealt with in sections <b><span
lang=NL>Fout! Verwijzingsbron niet gevonden.</span></b> and <b><span lang=NL>Fout!
Verwijzingsbron niet gevonden.</span></b>.</span></span></p>

<p class=ParaFirst><span class=Emphatic><span lang=EN-US style='color:windowtext;
font-weight:normal'>&nbsp;</span></span></p>

<h1><a name="_Toc312497015"></a><a name="_Ref438481128">3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Users and accounts</a></h1>

<p class=ParaFirst><span lang=EN-US>Accessing the CorpusStudio web application
brings one to a login page (</span><span lang=EN-US>Figure 1</span><span
lang=EN-US>).</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=604 height=325 id="Afbeelding 3"
src="CrpStudioWeb-Manual_bestanden/image002.jpg" alt=CrpStudio-Login1.jpg></p>

<p class=MsoCaption><a name="_Ref438474089"><span lang=EN-US>Figure </span></a><span lang=EN-US>1</span><span lang=EN-US> Logging in to CorpusStudio</span></p>

<p class=ParaFirst><span lang=EN-US>Any CLARIN-NL user may have one or more
user names to log in to the web application. Each user account has a separate
space on the web application’s server. Since it is in this space that a user’s
Corpus Research Projects and Corpus Result Databases are kept, making use of
multiple user names allows one to keep projects separated. </span></p>

<h1><a name="_Toc312497016"></a><a name="_Toc298090977">4<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Corpora</a></h1>

<p class=ParaFirst style='page-break-after:avoid'><span lang=EN-US>The corpora
menu is, first of all, meant to give a quick glance at the corpora that are
supported by the CorpusStudio web application. Future releases of CorpusStudio
will see more uses for the Corpora menu, some of which are already hinted at in
subsequent sections.</span></p>

<h2><a name="_Toc312497017">4.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The “Corpora/Explore” page</a></h2>

<p class=ParaFirst style='page-break-after:avoid'><span lang=EN-US>The <span
class=Emphatic>Explore</span> page of the Corpora menu gives a birds-eye view
of the corpora that are currently supported by the CLARIN-NL Corpus Studio web
application.</span></p>

<p class=MsoCaption style='page-break-after:avoid'><a name="_Ref426121115"><span
lang=EN-US>Table </span></a><span lang=EN-US>1</span><span lang=EN-US> Corpora
available in the CLARIN-NL version of Corpus Studio</span></p>

<table class=LightList-Accent11 border=1 cellspacing=0 cellpadding=0
 width="100%" style='width:100.0%;border-collapse:collapse;border:none'>
 <tr>
  <td width="13%" valign=top style='width:13.52%;border-top:solid #4F81BD 1.0pt;
  border-left:solid #4F81BD 1.0pt;border-bottom:none;border-right:none;
  background:#4F81BD;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b><span style='color:white'>Collection</span></b></p>
  </td>
  <td width="18%" valign=top style='width:18.04%;border:none;border-top:solid #4F81BD 1.0pt;
  background:#4F81BD;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b><span style='color:white'>Language</span></b></p>
  </td>
  <td width="7%" valign=top style='width:7.94%;border:none;border-top:solid #4F81BD 1.0pt;
  background:#4F81BD;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b><span style='color:white'>Type</span></b></p>
  </td>
  <td width="60%" valign=top style='width:60.5%;border-top:solid #4F81BD 1.0pt;
  border-left:none;border-bottom:none;border-right:solid #4F81BD 1.0pt;
  background:#4F81BD;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b><span style='color:white'>Notes</span></b></p>
  </td>
 </tr>
 <tr>
  <td width="13%" valign=top style='width:13.52%;border:solid #4F81BD 1.0pt;
  border-right:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b>Sonar</b></p>
  </td>
  <td width="18%" valign=top style='width:18.04%;border-top:solid #4F81BD 1.0pt;
  border-left:none;border-bottom:solid #4F81BD 1.0pt;border-right:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Written Dutch</p>
  </td>
  <td width="7%" valign=top style='width:7.94%;border-top:solid #4F81BD 1.0pt;
  border-left:none;border-bottom:solid #4F81BD 1.0pt;border-right:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>folia</p>
  </td>
  <td width="60%" valign=top style='width:60.5%;border:solid #4F81BD 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US>A
  selection of sections from Sonar500 that have been parsed by Alpino (taken
  from Lassy-large where available). The following sections are included:</span></p>
  <p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US>WR-P-P-B_books</span></p>
  <p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US>WR-P-E-C_e-magazines</span></p>
  <p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US>WR-P-P-J_proceedings</span></p>
  <p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US>WR-P-P-K_reports</span></p>
  <p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US>WR-P-P-D_newsletters</span></p>
  </td>
 </tr>
 <tr>
  <td width="13%" valign=top style='width:13.52%;border:none;border-left:solid #4F81BD 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b><span lang=EN-US>CGN</span></b></p>
  </td>
  <td width="18%" valign=top style='width:18.04%;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US>Spoken
  Dutc</span>h</p>
  </td>
  <td width="7%" valign=top style='width:7.94%;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>psdx,</p>
  <p class=MsoNormal style='page-break-after:avoid'>folia</p>
  </td>
  <td width="60%" valign=top style='width:60.5%;border:none;border-right:solid #4F81BD 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US>The
  “Corpus Gesproken Nederlands” (Corpus of spoken Dutch), converted from tiger
  (negra) to psdx and folia xml.</span></p>
  </td>
 </tr>
 <tr>
  <td width="13%" valign=top style='width:13.52%;border:solid #4F81BD 1.0pt;
  border-right:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b>NPCMC</b></p>
  </td>
  <td width="18%" valign=top style='width:18.04%;border-top:solid #4F81BD 1.0pt;
  border-left:none;border-bottom:solid #4F81BD 1.0pt;border-right:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Chechen (NE Caucasian)</p>
  </td>
  <td width="7%" valign=top style='width:7.94%;border-top:solid #4F81BD 1.0pt;
  border-left:none;border-bottom:solid #4F81BD 1.0pt;border-right:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>psdx,</p>
  <p class=MsoNormal style='page-break-after:avoid'>folia</p>
  </td>
  <td width="60%" valign=top style='width:60.5%;border:solid #4F81BD 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US>The
  Nijmegen Parsed Corpus of Modern Chechen. This was created in psdx, but a
  folia conversion is available.</span></p>
  </td>
 </tr>
 <tr>
  <td width="13%" valign=top style='width:13.52%;border-top:none;border-left:
  solid #4F81BD 1.0pt;border-bottom:solid #4F81BD 1.0pt;border-right:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><b>PCMLBE</b></p>
  </td>
  <td width="18%" valign=top style='width:18.04%;border:none;border-bottom:
  solid #4F81BD 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>Lak (NE Caucasian)</p>
  </td>
  <td width="7%" valign=top style='width:7.94%;border:none;border-bottom:solid #4F81BD 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'>psdx,</p>
  <p class=MsoNormal style='page-break-after:avoid'>folia</p>
  </td>
  <td width="60%" valign=top style='width:60.5%;border-top:none;border-left:
  none;border-bottom:solid #4F81BD 1.0pt;border-right:solid #4F81BD 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US>The Parsed
  Corpus of Modern Lak. This is a small corpus of Lak texts in the Cyrillic
  script that is gradually being annotated.</span></p>
  </td>
 </tr>
</table>

<p class=ParaFirst><span lang=EN-US>The corpora listed above are available to
everyone. Individual users may have access to more corpora, depending on the
settings an these user’s rights.</span></p>

<p class=ParaFirst><span lang=EN-US>Navigating to the “Corpora” section of the
web application brings one to a set of sub menu’s: “Explore”, “Edit”,
“Grouping” and “Variables”. These menu’s are currently under construction and
are aimed to contain valid functionality in future releases.</span></p>

<h2><a name="_Toc312497018">4.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The “Corpora/Edit” page</a></h2>

<p class=ParaFirst><span lang=EN-US>The <span class=Emphatic>Edit</span> page
lists all the corpora available to the current user, providing the details for
every corpus in the ‘General’ form part.</span></p>

<p class=MsoNormal align=center style='text-align:center'><img border=0
width=605 height=315 id="Picture 7"
src="CrpStudioWeb-Manual_bestanden/image003.png"></p>

<p class=MsoCaption>Figure 2 The corpus information editor</p>

<p class=ParaFirst><span lang=EN-US>The priviledged user that has <span
class=Argument>administrative</span> rights can edit the information for each
corpus, add the information for a new corpus and delete the information of a
corpus whose support is discontinued. </span></p>

<p class=ParaFirst><span lang=EN-US>The corpus information consists of the
following elements:</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Corpus name    </span></span><span
lang=EN-US>Name (label) for this corpus or corpus-selection</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Section        </span></span><span
lang=EN-US>Name of the directory (on the server) where this corpus (or
selection) resides</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Language       </span></span><span
lang=EN-US>Choose one of the languages from the options provided</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Variable set   </span></span><span
lang=EN-US>Select one of the variable-sets as defined in the <span
class=Emphatic>Variables</span> menu</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>See also       </span></span><span
lang=EN-US>A URL pointing to more information about this corpus</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Description    </span></span><span
lang=EN-US>Any information in prose about this corpus (or selection)</span></p>

<p class=ParaFirst><span lang=EN-US>The <span class=Emphatic>Corpora</span>
&gt;&gt; <span class=Emphatic>Edit</span> menu is an important point for any user,
since it provides the starting point for the creation of or editing of a
‘grouping’. </span></p>

<p class=ParaFirst><span lang=EN-US>First select a corpus, and then press the <span
style='color:white'> <span class=Argument><span style='color:white;background:
blue'>Groupings</span></span><span class=Argument><span style='color:white'> </span></span></span> button
to arrive at the right selection of groupings in the <span class=Emphatic>Corpora</span>
&gt;&gt; <span class=Emphatic>Grouping</span> page.</span></p>

<h2><a name="_Toc312497019">4.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The “Corpora/Grouping” page</a></h2>

<p class=ParaFirst><span lang=EN-US>The <span class=Emphatic>Grouping</span>
page is planned to become available in future editions of CorpusStudio. This
page allows for the creation and the editing of ‘groupings’ (or ‘divisions’):
collections of group-specifications into which the results from each search
file should be divided. A grouping matches each file with a group label
according to the text file’s meta data information.</span></p>

<h2><a name="_Toc312497020">4.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The “Corpora/Variables” page</a></h2>

<p class=ParaFirst><span lang=EN-US>The <span class=Emphatic>Variables</span>
page is planned to become available in future editions of CorpusStudio. This
page allows for the creation and the editing of meta data ‘variables’.</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<h1><a name="_Ref438481328"></a><a name="_Toc298090978"></a><a
name="_Toc312497021">5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Databases</a></h1>

<p class=ParaFirst style='page-break-after:avoid'><span lang=EN-US>The
databases menu serves to inspect, download and upload the ‘Result databases’
available to the user. Result databases can optionally be generated as a result
of a query line in a CRP. The databases can also serve as input to a CRP.</span></p>

<p class=ParaFirst style='page-break-after:avoid'><span lang=EN-US>The <i>xml </i>format
of the result databases used in the web application is similar to the one used
for the Windows version of CorpusStudio, which means that it should be possible
to exchange databases between these versions of the program. It should also be
possible to load and edit a corpus Result database in the Windows program
‘Cesax’. </span></p>

<h2><a name="_Toc312497022">5.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The “Database/Overview” page</a></h2>

<p class=ParaFirst><span lang=EN-US>The ‘Overview’ page facilitates inspection
of the databases, downloading and uploading them. This functionality will
become available in future releases of the CorpusStudio web application.</span></p>

<p class=MsoNormal align=center style='text-align:center'><img border=0
width=572 height=330 id="Picture 1"
src="CrpStudioWeb-Manual_bestanden/image004.png"></p>

<p class=MsoCaption>Figure 3 Result database overview</p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<h2>5.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span> <a name="_Toc312497023">The “Database/Edit” page</a></h2>

<p class=ParaFirst><span lang=EN-US>There is no ‘Edit’ page in the current
version of the web application. Future releases should implement the
possibility to view and edit the individual entries of a Result database.</span></p>

<h1><a name="_Toc312497024">6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Projects</a></h1>

<p class=ParaFirst><span lang=EN-US>The “Projects” menu item leads to a number
of different sub-menu’s, all of which are intended to facilitate working with
CRPs (corpus research projects). The general work-flow is as follows:</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Project</span></span><span
lang=EN-US>.          Select, upload or create a project (CRP).</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Input</span></span><span
lang=EN-US>.             Define the language and corpus that needs to be
searched.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Definitions</span></span><span
lang=EN-US>.   Edit definitions of variables and functions.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Queries</span></span><span
lang=EN-US>.        Edit the queries for this project.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Pipeline</span></span><span
lang=EN-US>.        Order the queries.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>6)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Features</span></span><span
lang=EN-US>.</span><span lang=EN-US>       Define and order result database
features.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>7)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Execute</span></span><span
lang=EN-US>.        BUTTON: execute the queries (available from <span
class=Emphatic>Project</span>).</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>8)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Results</span></span><span
lang=EN-US>.         View the results of the queries. </span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=ParaFirst><span lang=EN-US>Selecting the “Projects” menu leads the
user to the “Project” page (step 1), where a project is to be selected. The
meta-data of a selected project can be edited on this page too. The selection
of a corpus that serves as input takes place on the “Input” page (step 2).
Changes in the definitions, queries or query order can be done on the pages
“Definitions” (step 3), “Queries” (step 4) and “Pipeline” (step 5). </span></p>

<p class=ParaFirst><span lang=EN-US>Once a Corpus Research Project has been
fully defined, execution of the project on the selected corpus can be
instantiated by clicking the “Execute Queries” button (step 7).<a href="#_ftn1"
name="_ftnref1" title=""><span class=MsoFootnoteReference><span
class=MsoFootnoteReference><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman","serif"'>[1]</span></span></span></a> The page “Results” (step
8) becomes available as soon as query execution has finished. The results page
allows detailed inspection of the query results, as well as exporting of data.</span></p>

<h2><a name="_Toc312497025">6.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The “Projects/Project” page</a></h2>

<p class=ParaFirst><span lang=EN-US>The “Project” page that comes up under the
“Projects”  main menu selection serves two purposes: (a) identification of the
CRP to work with, and (b) editing of the CRP’s “General” information.</span></p>

<h3><a name="_Toc312497026">6.1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>CRP identification</a></h3>

<p class=ParaFirst><span lang=EN-US>The “Project” page initially comes up with
the screen shown in </span><span lang=EN-US>Figure 4</span><span lang=EN-US>.</span></p>

<p class=ParaFirst align=center style='text-align:center'><img border=0
width=484 height=222 id="Afbeelding 11"
src="CrpStudioWeb-Manual_bestanden/image005.jpg"
alt=CrpStudio-Project-Available.jpg></p>

<p class=MsoCaption><a name="_Ref300472822"><span lang=EN-US>Figure </span></a><span lang=EN-US>4</span><span lang=EN-US> Initial state of the &quot;Project&quot;
page</span></p>

<p class=ParaFirst><span lang=EN-US>The CRP can be chosen from the list on the
left side, from the “Available” section. Clicking an existing project will load
it and make its information available for inspection and editing.</span></p>

<p class=ParaFirst><span lang=EN-US>The project selector contains more options.
It consists of four sections, the first two of which have sub sections: </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:2.0cm;text-indent:-2.0cm'><span
class=Emphatic><span lang=EN-US>New</span></span><span lang=EN-US>.           Methods
to get a new CRP on the server:</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0cm;text-indent:-2.0cm'><span
class=Emphatic><span lang=EN-US>                   </span></span><span
class=Argument>Upload</span><span lang=EN-US>.</span><span lang=EN-US>                            Upload
a CRP to the server</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0cm;text-indent:-2.0cm'><span
class=Emphatic><span lang=EN-US>                   </span></span><span
class=Argument>New project (manual).</span><span lang=EN-US>      Create a new
project manually</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0cm;text-indent:-2.0cm'><span
class=Emphatic><span lang=EN-US>                   </span></span><span
class=Argument>Project wizard</span><span lang=EN-US>.</span><span lang=EN-US>                 Create
a new project with the wizard (see X)</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0cm;text-indent:-2.0cm'><span
class=Emphatic><span lang=EN-US>Current</span></span><span lang=EN-US>.     Actions
on the currently selected CRP:</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0cm;text-indent:-2.0cm'><span
class=Emphatic><span lang=EN-US>                   </span></span><span
class=Argument>Download</span><span lang=EN-US>.                       Download
the selected CRP from the server</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0cm;text-indent:-2.0cm'><span
class=Emphatic><span lang=EN-US>                   </span></span><span
class=Argument>Remove</span><span lang=EN-US>.                           Remove
the selected CRP from the server</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:2.0cm;text-indent:-2.0cm'><span
class=Emphatic><span lang=EN-US>Recent</span></span><span lang=EN-US>.      The
CRP that has been ‘executed’ last.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:2.0cm;text-indent:-2.0cm'><span
class=Emphatic><span lang=EN-US>Available</span></span><span lang=EN-US>.</span><span
lang=EN-US>  Select one of the CRPs that have been uploaded to the server.</span></p>

<p class=MsoNormal><span lang=EN-US> </span></p>

<p class=ParaFirst><span lang=EN-US>When the <span class=Emphatic>New</span> section
is selected, three options to get a new CRP onto the server become available:
Upload, New project (manual) and Project wizard. The Project creation wizard is
discussed in section X.</span></p>

<p class=ParaFirst><span lang=EN-US>As far as the <span class=Emphatic>Current</span>
section’s actions are concerned: please note that both the <span
class=Argument>Download</span> and <span class=Argument>Remove</span> commands
pertain to the CRP that is located <b>on the server</b>. So ‘removing’ a CRP
within CorpusStudio has no effect whatsoever on a copy of the CRP as it exists
on a user’s computer.  However, should a CRP have been created on the server,
and should the creator not have made a backup of the CRP on his own computer,
then ‘removing’ the CRP from the server means that it is lost completely.</span></p>

<p class=ParaFirst><span lang=EN-US>The <span class=Emphatic>Recent</span>
section contains just one CRP; this is the CRP that has been executed most
recently. </span></p>

<p class=ParaFirst><span lang=EN-US>The selection of a CRP that is in the <span
class=Emphatic>Available</span> section makes it the current CRP, which is
marked in two ways: </span></p>

<p class=ParaFirst><span lang=EN-US>(a) the name of the current CRP appears in
the top bar under “corpus”, and </span></p>

<p class=ParaFirst><span lang=EN-US>(b) the “General” information of the CRP
appears.</span></p>

<h3><a name="_Toc312497027">6.1.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The CRP’s “General” information</a></h3>

<p class=ParaFirst><span lang=EN-US>Figure 5</span><span lang=EN-US> is an
example of the “General” information for one particular CRP.</span></p>

<p class=ParaFirst align=center style='text-align:center'><img border=0
width=605 height=418 id="Afbeelding 12"
src="CrpStudioWeb-Manual_bestanden/image006.jpg"
alt=CrpStudio-Project-General.jpg></p>

<p class=MsoCaption><a name="_Ref300475220"><span lang=EN-US>Figure </span></a><span lang=EN-US>5</span><span lang=EN-US> The &quot;General&quot; information
available to a project</span></p>

<p class=ParaFirst><span lang=EN-US>The “General” information of a project is
crucial for future reference. It consists of elements that can be edited (these
are in the light-blue boxes) and some that the program creates itself. The
editable elements are:</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Name           </span></span><span
lang=EN-US>A succinct non-spaced name identifiying this project</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Author         </span></span><span
lang=EN-US>Name of the main author</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Project type   </span></span><span
lang=EN-US>One of the available project types (e.g. Xquery-Psdx, Folia-xml)</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Goal           </span></span><span
lang=EN-US>What is the goal this project strives to get at?</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Comments       </span></span><span
lang=EN-US>Any additional information helpful to understand later what this
project does</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst><span lang=EN-US>The CRP’s general information also contains
two items that are non-editable: the creation date of the CRP and the date it
has last been changed.</span></p>

<p class=ParaFirst style='background:#CCFFCC'><u><span lang=EN-US
style='background:yellow'>Note</span></u><span lang=EN-US>: Any <b>changes</b>
(edits) made by the user in the editable elements (</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Name</span></span><span
lang=EN-US>, </span><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'>Author</span></span><span lang=EN-US>, </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Project</span></span><span lang=EN-US> </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>type</span></span><span
lang=EN-US>, </span><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'>Goal</span></span><span lang=EN-US>, </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>Comments</span></span><span lang=EN-US>) become
effective only after the user has pressed the “Save” button that is to appear
once a user starts making changes. There is no automatic saving in the current
version.</span></p>

<h3><a name="_Toc312497028">6.1.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Test version</a></h3>

<p class=ParaFirst><span lang=EN-US>The test version of the Corpus Studio web
application can be used by logging in as “<b>guest</b>” (password “crpstudio”).
This account can be accessed by any CLARIN user, but it is only one user at a
time that can be logged into it.</span></p>

<h2><a name="_Toc312497029">6.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The “Projects/Input” page</a></h2>

<p class=ParaFirst><span lang=EN-US>The CorpusStudio program is meant to
facilitate researchers in writing and executing queries that take syntactically
parsed texts as input. The <span class=Emphatic>Input</span> page is the place
to specify what exactly should serve as input to these queries. </span>There
are two possibilities to fine-tune the input:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Corpus selection</span></span><span
lang=EN-US>.        Select a corpus from the selector (combobox) &quot;Corpus
to search&quot;.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Domain restriction</span></span><span
lang=EN-US>.     Restrict the texts within the selected corpus.</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst><span lang=EN-US>The corpus selection is straight-forward:
one can select one of the pre-installed text corpora from the selector. The
text corpora have already been divided into main parts where this is possible
with the given corpora.</span></p>

<p class=ParaFirst><span lang=EN-US>The restriction of texts within a selected
corpus can be done on the basis of the meta data supplied in each text.</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=604 height=321
src="CrpStudioWeb-Manual_bestanden/image007.jpg" alt=CrpStudio-InputSel1.jpg></p>

<p class=MsoCaption><a name="_Ref437939073"><span lang=EN-US>Figure </span></a><span lang=EN-US>6</span><span lang=EN-US> De input selector</span></p>

<p class=ParaFirst><span lang=EN-US>The example in </span><span
lang=EN-US>Figure 6</span><span lang=EN-US> shows the project called
&quot;V2_test_versie11&quot; as having the &quot;ME&quot; (Middle English) part
of the historical English corpora as its main input. A further restriction on
the texts that are to be taken as input is defined in the Rules section:</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Time period</span></span><span
lang=EN-US>.                The time-period needs to be &quot;m1&quot; or
&quot;m23&quot;.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Dialect</span></span><span
lang=EN-US>.                        The dialect may not contain the word
&quot;midland&quot;.</span></p>

<p class=ParaFirst><span lang=EN-US>Input domain restrictions can be released
by clicking &quot;Reset restrictions&quot; (Dutch: Beperking opheffen). Setting
domain restrictions can be started by clicking &quot;Restrict input&quot;
(Dutch: Domein beperken).</span></p>

<p class=ParaFirst><span lang=EN-US>The available meta data such as genre,
author and so forth differ from one corpus to the other. This is why the
contents of the rule-selectors is changed as soon as a different corpus is
selected. Changing the corpus selection also resets all the input restriction
rules.</span></p>

<p class=ParaFirst><span lang=EN-US>The meta data information of the texts can
be compared with the values supplied by the user in the text boxes at the right
hand side. This is an overview of the available comparison operators (the
middle selectors):</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>is                           </span></span><span
lang=EN-US>- The meta data in the text equals the value supplied.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>is
not                       </span></span><span lang=EN-US>- The meta data
differs from the value supplied.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>smaller
than                 </span></span><span lang=EN-US>- The meta data is smaller
than the value supplied.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>smaller
than or equal to     </span></span><span lang=EN-US>- The meta data is smaller
than or equal to the value.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>larger
than                  </span></span><span lang=EN-US>- The meta data is larger
than the value supplied.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>6)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>larger
than or equal to      </span></span><span lang=EN-US>- The meta data is larger
than or equal to the value.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>7)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>matches
pattern              </span></span><span lang=EN-US>- The meta data matches the
pattern supplied.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>8)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>doesn't
match pattern        </span></span><span lang=EN-US>- The meta data does not
match the pattern.</span></p>

<p class=ParaFirst><span lang=EN-US>The 'matching' operator allows using the
following special symbols:</span></p>

<p class=norm><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=norm><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>*              </span></span><span
lang=EN-US>Zero or more characters</span></p>

<p class=norm><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>?              </span></span><span
lang=EN-US>One character of any value</span></p>

<p class=norm><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>[a-z]          </span></span><span
lang=EN-US>One character in the range 'a' until 'z'</span></p>

<p class=norm><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>|          
   </span></span><span lang=EN-US>The logical 'or' operator</span></p>

<p class=ParaFirst><span lang=EN-US>The rules supplied by the user are
internally converted to a piece of Xquery code, which is executed before a text
is queried with the main queries. Only a positive evaluation of the input
restriction code results in the execution of the main queries.</span></p>

<p class=ParaFirst><span lang=EN-US>The set of input matching rules as well as
the Xquery code derived from it are part of the <i>xml </i>code of the Corpus
Research Project. Downloading the project allows one to have a look at the code
that is being used.</span></p>

<h2><a name="_Toc312497030">6.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The “Projects/Definitions” page</a></h2>

<p class=ParaFirst><span lang=EN-US>The queries that can be used to search
through the texts that have been selected in the &quot;Input&quot; page are
made up of four components:</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Definitions</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>    </span></span><span
lang=EN-US>- Variables and functions needed for the queries</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=Emphatic>Queries            </span>- The queries themselves</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Pipeline            </span></span><span
lang=EN-US>- The order and hierarchy in which queries need to be executed</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Features          </span></span><span
lang=EN-US>- The (optional) features that need to be calculated for a result
database</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst><span lang=EN-US>This section treats the <span
class=Emphatic>Definitions</span>. One or more definition 'files' may be used
within one Corpus Research Project. The definition files contain declarations
of global variables and definitions of function—all in the Xquery language </span><span lang=EN-US>(<a href="#_ENREF_1" title="Boag, 2010 #326">Boag et al. 2010</a>; <a
href="#_ENREF_3" title="W3C, 2010 #185">W3C 2010</a>; <a href="#_ENREF_4"
title="Yao, 2010 #751">Yao &amp; Bouma 2010</a>)</span><span lang=EN-US>. </span></p>

<p class=ParaFirst><span lang=EN-US>The CorpusStudio program combines <i>all </i>definition
files and <i>one</i> query file to form the queries that are actually
calculated in the pipeline.</span></p>

<p class=ParaFirst><span lang=EN-US>There is no need to include a declaration
of the namespaces &quot;</span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>ru:</span></span><span lang=EN-US>&quot;, &quot;</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>tb:</span></span><span
lang=EN-US>&quot; and &quot;</span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>functx:</span></span><span lang=EN-US>&quot;—these
namespaces are inserted at the top of the combined query, should they not have
been defined by the user.<a href="#_ftn2" name="_ftnref2" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman","serif"'>[2]</span></span></span></a></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal align=center style='text-align:center'><img border=0
width=605 height=388 id="Afbeelding 2"
src="CrpStudioWeb-Manual_bestanden/image008.jpg" alt=CrpStudio-DefEdit3.jpg></p>

<p class=MsoCaption><span lang=EN-US>Figure </span><span
lang=EN-US>7</span><span lang=EN-US> The definition editor</span></p>

<p class=ParaFirst><span lang=EN-US>The definition editor contains a list of
'definition' files on the left side. These are the definition files that are
included in the currently selected CRP. The contents of a definition file
becomes available for editing when it is selected in the list.</span></p>

<p class=ParaFirst><span lang=EN-US>There are a number of actions that can be
performed on or with definition files. Each of these is treated in the
following sub sections.</span></p>

<h3><a name="_Toc312497031">6.3.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Editing a definition file</a></h3>

<p class=ParaFirst><span lang=EN-US>A definition file consists of the following
components, each of which can be edited:</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Name</span></span><span
lang=EN-US>           - The name of the definition 'file'. <br>
                    This may not contain spaces and it must be unique within
this CRP.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Goal</span></span><span
lang=EN-US>           - Main purpose of this definition file.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Creation</span></span><span
lang=EN-US>    - The time and date when the definition file was created</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Changed</span></span><span
lang=EN-US>      - The time and date when the changes were saved last</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Comments</span></span><span
lang=EN-US>    - Details of the ‘definition’ in prose</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>6)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Text</span></span><span
lang=EN-US>           - The Xquery code of the definition</span></p>

<p class=ParaFirst><span lang=EN-US>As soon as one of the components in the
list is edited, a red <span style='background:#C00000'> <span style='color:
white'>Save</span>_</span> button appears. Changes will only be saved to the
CRP file after pressing this button. The user may know that changes have been
saved by the fact that the “save” button disappears and by the fact that the
“Date last edited” on the main project’s page is adapted.<a href="#_ftn3"
name="_ftnref3" title=""><span class=MsoFootnoteReference><span
class=MsoFootnoteReference><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman","serif"'>[3]</span></span></span></a></span></p>

<p class=ParaFirst><span lang=EN-US>Should more room for editing the <i>text</i>
of the definition be needed, then the line above the editor that says “(click
for full view)” may be pressed. The Xquery code then takes up the whole
“General” area. Return to ‘normal’ view is possible by clicking “(click to
return to normal view)”.</span></p>

<h3><a name="_Toc312497032"><span lang=EN-US>6.3.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Creating a new definition file</span></a></h3>

<p class=ParaFirst><span lang=EN-US>Select <span class=Emphatic>New</span>
&gt;&gt; <span class=Emphatic>New definition file</span> to create a new
definition file from scratch. The user is requested to provide basic
information for the new definition file:</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Name</span></span><span
lang=EN-US>               - The name of the definition 'file'. <br>
                        This may not contain spaces and it must be unique
within this CRP.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Goal</span></span><span
lang=EN-US>               - Main purpose of this definition file.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Explanation</span></span><span
lang=EN-US>   - Details of the ‘definition’ in prose</span></p>

<p class=ParaFirst><span lang=EN-US>Press “Create” to effectuate the creation
of a new definition file or “Cancel” to return to the Definition page without
creating a new file.</span></p>

<p class=ParaFirst><span lang=EN-US>The observant user may have noticed the
option <span class=Emphatic>New</span> &gt;&gt; <span class=Emphatic>Definition
wizard</span>. This option is meant to become available in future releases of
the web application.</span></p>

<h3><a name="_Toc312497033"><span lang=EN-US>6.3.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Importing a definition file</span></a></h3>

<p class=ParaFirst><span lang=EN-US>Select <span class=Emphatic>New</span>
&gt;&gt; <span class=Emphatic>Upload</span> to import a definition file from a
local computer into the project. This option allows for a number of exchange
possibilities:</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Windows</span></b><span lang=EN-US>. Import
definition files that have been created using the Windows version of
CorpusStudio. </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Own</span></b><span lang=EN-US>. Import one’s
own definition files that have previously been exported to one’s local
computer.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Exchange</span></b><span lang=EN-US>. Import
definition files that have been passed on to the user by a colleague.</span></p>

<h3><a name="_Toc312497034"><span lang=EN-US>6.3.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Removing a definition file</span></a></h3>

<p class=ParaFirst><span lang=EN-US>Select <span class=Emphatic>Current</span>
&gt;&gt; <span class=Emphatic>Remove</span> to delete a definition file from
the project. The file is completely deleted and this operation can not be
undone in any way.</span></p>

<p class=ParaFirst><span lang=EN-US>Note: <b>no confirmation</b> is asked for.
Files are deleted immediately.</span></p>

<h3><a name="_Toc312497035"><span lang=EN-US>6.3.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Exporting a definition file</span></a></h3>

<p class=ParaFirst><span lang=EN-US>Definition files may be exported (that is,
downloaded) to one’s own local computer. Select <span class=Emphatic>Current</span>
&gt;&gt; <span class=Emphatic>Export</span> to start the export process. </span></p>

<p class=ParaFirst><span lang=EN-US>The definition file will be prepared by the
web application and put in a place from where it can be downloaded. The space
above <span class=Emphatic>New</span> will receive a clickable link from where
the user can download the created file. The file has an “</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>.xq</span></span><span
lang=EN-US>” extension. It is a plain text file (in “utf-8” encoding) that can
be opened with a text editor like NotePad. Just clicking the download link
opens the definition file in a new tab page of the browser.<a href="#_ftn4"
name="_ftnref4" title=""><span class=MsoFootnoteReference><span
class=MsoFootnoteReference><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman","serif"'>[4]</span></span></span></a></span></p>

<p class=ParaFirst><span lang=EN-US>Exporting definition files may serve
different purposes:</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Exchange</span></b><span lang=EN-US>. Export
a definition file to share it with a colleague.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Collection</span></b><span lang=EN-US>.
Export a definition file to the user’s own (local) computer in order to have a
selection of definition files that can be used in other projects.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Windows</span></b><span lang=EN-US>. Export a
definition file to use it in the Windows version of CorpusStudio.</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<h3><a name="_Toc312497036"><span lang=EN-US>6.3.6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Coding a definition file</span></a></h3>

<p class=ParaFirst><span lang=EN-US>The actual coding of definition files and
queries is beyond the CorpusStudio manual, but there are a few matters worth
mentioning here. </span></p>

<p class=ParaFirst><span lang=EN-US>The definition files are meant to contain
only the following two elements:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Declarations</span></span><span
lang=EN-US>    - Declarations of variables available to other definitions and
queries</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Functions</span></span><span
lang=EN-US>         - Definitions of functions in the tb: or functx: namespace</span></p>

<p class=ParaFirst><span lang=EN-US>As for <span class=Emphatic>declarations</span>,
valid declarations of variables look like this:</span></p>

<p class=ParaFirst style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt;color:#0070C0'>declare</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> </span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt;color:#0070C0'>variable</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> $_finiteIP </span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt;color:#0070C0'>as</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> </span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt;color:#215868'>xs:string</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> </span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt;color:#0070C0'>:=</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>
&quot;IP-MAT*|IP-SUB*&quot;;</span></span></p>

<p class=ParaFirst><span lang=EN-US>A variable declaration consists of the
following components:</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Preamble</span></span><span
lang=EN-US>.          A declaration starts with the fixed words ‘</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>declare variable</span></span><span
lang=EN-US>’. </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Name</span></span><span
lang=EN-US>.                The name of the global variable. This name must
start with a </span><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'>$</span></span><span lang=EN-US> sign. </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Type</span></span><span
lang=EN-US>.                  The type of the variable needs to be specified, and
must be preceded by the keyword “as”. Possible types include the following: </span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>xs:string</span></span><span
lang=EN-US>       One or more words combined into a string</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>xs:integer</span></span><span
lang=EN-US>     Boolean (either true or false)</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>xs:integer</span></span><span
lang=EN-US>     Whole numbers—either negative or positive (e.g. -20, 4, 1000)</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=ProgramCode><span style='font-size:9.0pt'>xs:decimal</span></span>     Like
integer</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>xs:double</span></span><span
lang=EN-US>       A number containing a floating point (e.g. 3.14)</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=ProgramCode><span style='font-size:9.0pt'>element()</span></span><span
lang=EN-US>       A node</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=ProgramCode><span style='font-size:9.0pt'>node()</span></span><span
lang=EN-US>            A node</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>item()</span></span><span
lang=EN-US>            A node or atomic value</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Assignment</span></span><span
lang=EN-US>.       The assignment operator </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>:= </span></span><span lang=EN-US>can be
paraphrased as ‘becomes’</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Value</span></span><span
lang=EN-US>.                The value assigned to the variable. This must be
between common quotation marks. <u>Note</u>: avoid copying definitions from
Microsoft Word to a definition file, since this introduces ‘curly’ quotation
marks, and such marks are <i>not recognized</i> by the Xquery processor.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Semicolon</span></span><span
lang=EN-US>.         Finish the variable definition with a semicolon. Otherwise
an error will be reported.</span></p>

<p class=ParaFirst><span lang=EN-US>As for <span class=Emphatic>user-defined
functions</span>, here is an example:</span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>(:
----------------------------------------------------------------</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>   Name : tb:IsStarred</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>   Goal : Check whether the given
&lt;eTree&gt; node contains an &lt;eLeaf&gt;</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>              child of the type [Star]</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>   History:</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>   13-09-2010 ERK    Created </span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  
---------------------------------------------------------------- :)</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt;color:#0070C0'>declare</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> </span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt;color:#0070C0'>function</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> tb:IsStarred($this
as node()?) </span></span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt;color:#0070C0'>as</span></span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'> </span></span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt;color:#215868'>xs:boolean</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>{ </span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  (: Just check ... :)</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  </span></span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt;color:#0070C0'>let</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> $ok </span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt;color:#0070C0'>:=</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>
$this[child::eLeaf/@Type = 'Star']</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  (: Return true if the collection is not
empty :)</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  </span></span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt;color:#0070C0'>return</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    </span></span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt;color:#0070C0'>if</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> (empty($ok))</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      </span></span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt;color:#0070C0'>then</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> </span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt;color:#FF99CC'>false</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>()</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      </span></span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt;color:#0070C0'>else</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> </span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt;color:#FF99CC'>true</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>()</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>} ;</span></span></p>

<p class=ParaFirst><span lang=EN-US>Key elements of a user-defined Xquery
function are the following:</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Preamble</span></span><span
lang=EN-US>.          A declaration starts with the fixed words ‘</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>declare function</span></span><span
lang=EN-US>’. </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Name</span></span><span
lang=EN-US>.                The name of the user function. This name must start
with a </span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>tb:</span></span><span
lang=EN-US> namespace prefix, and it may not contain spaces. </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Arguments</span></span><span
lang=EN-US>.        One or more arguments can be specified between brackets of
the function definition. An argument consists of: (a) variable name, (b) type
definition. The name of the argument here <i>does not have to be equal </i>to
the name of the function’s argument where it is called from. It is, in fact,
quite common practice to use a different name here in order to avoid confusion.
<u>Note</u>: the type definition may be followed by one of the symbols ‘</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>?</span></span><span
lang=EN-US>’, ‘</span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>*</span></span><span lang=EN-US>’, ‘</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>+</span></span><span
lang=EN-US>’, which indicate respectively: optional argument, argument may
appear zero or more times, argument may appear one or more times.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Type</span></span><span
lang=EN-US>.                  The type of the value returned. The example
returns a boolean value.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Definition</span></span><span
lang=EN-US>.          The body of the definition is to be surrounded by curly
brackets {…}. The contents of a user function may be:</span></p>

<p class=ParaFirst align=left style='margin-left:54.0pt;text-align:left;
text-indent:-18.0pt'><span lang=EN-US style='font-family:"Courier New"'>o<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
lang=EN-US>A simple statement, such as “</span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>empty($this/child::eTree)</span></span><span
lang=EN-US>”<br>
<u>Note</u>: <b>no</b> return keyword can be used if the function consists of
one statement.</span></p>

<p class=ParaFirst style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=EN-US>A ‘let-return’ sequence, such as in the example
function</span></p>

<p class=ParaFirst style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span lang=EN-US>A ‘for-let-where-return’ sequence</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Semicolon</span></span><span
lang=EN-US>.         The definition of the user function must be concluded by a
semicolon.</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst><span lang=EN-US>There are a number of useful web sites that
discuss writing Xquery user functions:</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US><a
href="http://www.w3schools.com/xsl/xquery_functions.asp">W3c</a>. The
well-known “w3c” school gives some basic facts on Xquery user functions.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US><a
href="http://www.stylusstudio.com/xquery/xquery-functions.html">Stylus</a>. Dr.
Michael Kay, one of the key programmers of the Saxon Xquery interface used in
CorpusStudio, provides a tutorial on Xquery user functions.</span></p>

<h2><a name="_Toc312497037"><span lang=EN-US>6.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>The “Projects/Queries” page</span></a></h2>

<p class=ParaFirst><span lang=EN-US>The “Queries” page facilitates creating,
importing, exporting and editing of search specifications coded in the Xquery
language. The options available for each query are similar to the options
available for definition files:</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>New </span></span><span
lang=EN-US>&gt;&gt;<span class=Emphatic> Upload</span>.   Upload a query from
the user’s local computer to the web application. </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>New </span></span><span
lang=EN-US>&gt;&gt;<span class=Emphatic> New query (manual)</span>.      Create
a new query manually (discussed below). </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>New </span></span><span
lang=EN-US>&gt;&gt;<span class=Emphatic> Query wizard</span>.     This is for
future releases. </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Current </span></span><span
lang=EN-US>&gt;&gt;<span class=Emphatic> Download</span>.     Create a copy of
the query as an ‘</span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>.xq</span></span><span lang=EN-US>’ file and present an
URL to download it from the web application to the local computer. </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Current </span></span><span
lang=EN-US>&gt;&gt;<span class=Emphatic> Remove</span>.        Delete the
currently selected query from the project. <u>Note</u>: deletion takes effect
immediately and knows no ‘undo’. </span></p>

<p class=ParaFirst><span lang=EN-US>This section on the Queries focuses on the
two main issues where queries differ from definitions: (a) Query creation and
(b) the code for queries meant to run in CorpusStudio. The remaining
functionality is similar to that offered for Definitions, so the user is
referred to that section for details.</span></p>

<h3><a name="_Toc312497038">6.4.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Query creation</a></h3>

<p class=ParaFirst><span lang=EN-US>Queries can be created using the <span
class=Emphatic>New</span>/<span class=Emphatic>NewQuery</span>(manual). This
brings up the form shown in </span><span lang=EN-US>Figure 8</span><span
lang=EN-US>.</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=605 height=337 id="Afbeelding 15"
src="CrpStudioWeb-Manual_bestanden/image009.jpg" alt=CrpStudio-QryNew1.jpg></p>

<p class=MsoCaption><a name="_Ref438547504"><span lang=EN-US>Figure </span></a><span lang=EN-US>8</span><span lang=EN-US> The NewQuery form</span></p>

<p class=ParaFirst><span lang=EN-US>The options available for a new query
differ slightly from those that are required for a new definition. They are:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Name</span></span><span
lang=EN-US>                  - The name of the query. <br>
                           This may not contain spaces and it must be unique
within this CRP.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Goal</span></span><span
lang=EN-US>                  - Main purpose of this query (succinct but
meaningful).</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Project
type</span></span><span lang=EN-US>    - The basic kind of query.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Pipeline</span></span><span
lang=EN-US>           - Put this query in the execution pipeline or not (yet)?</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Explanation</span></span><span
lang=EN-US>      - Details of the query in prose. Important for later
reference.</span></p>

<p class=ParaFirst><span lang=EN-US>Although the New Query form is not a
wizard, it does allow the user to specify a basic ‘<span class=Emphatic>project
type</span>’ for the query to be formed. The number and kind of basic queries
may vary from release to release of CorpusStudio. Choosing a basic type here
will result in the automatic creation of a query body that is ‘tuned’ to the
environment: it takes into account what kind of text files are being processed
(e.g. Psdx, FoLiA), and it takes into account the kind of part-of-speech tags
and constituent labels used in the corpus that has been selected in ‘Input’.</span></p>

<p class=ParaFirst><u><span lang=EN-US>Important</span></u><span lang=EN-US>:
first specify the “Input” and only then create a new query.</span></p>

<p class=ParaFirst><span lang=EN-US>If the CRP’s input is changed <i>after</i>
a new query has been created, then the query may no longer be valid. A change
in input corpus may mean that different part-of-speech tags are being used, and
a change in input text type (e.g. from FoLiA to Psdx or the reverse) definitely
means that the <i>xml</i> tags to be looked for are different.</span></p>

<p class=ParaFirst><span lang=EN-US>The <span class=Emphatic>pipeline</span>
checkbox is by default ‘checked’, so that any manually created new query is
automatically put in the query execution pipeline. </span></p>

<p class=ParaFirst><u><span lang=EN-US>Important</span></u><span lang=EN-US>:
only queries that are part of the query ‘pipeline’ will actually be executed!!</span></p>

<p class=ParaFirst><span class=Emphatic><span lang=EN-US>&nbsp;</span></span></p>

<h3><a name="_Toc312497039"></a><a name="_Ref312495891"><span lang=EN-US>6.4.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Coding queries for CorpusStudio</span></a></h3>

<p class=ParaFirst><span lang=EN-US>The elements of a query are the following:</span></p>

<p class=ParaFirst style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:17.85pt;margin-bottom:.0001pt;text-indent:-17.85pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Opening</span></span><span
lang=EN-US>.            The query must start with an <i>xml</i> opening tag
followed by an opening curly bracket. The actual opening tag that is being used
does not really matter because of the way CorpusStudio processes the queries.<a
href="#_ftn5" name="_ftnref5" title=""><span class=MsoFootnoteReference><span
class=MsoFootnoteReference><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman","serif"'>[5]</span></span></span></a> It is common practice
to use the tag name </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>&lt;FoLiA&gt;</span></span><span lang=EN-US> where
FoLiA files are processed and to use </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&lt;TEI&gt;</span></span><span lang=EN-US>
for Psdx files.</span></p>

<p class=ParaFirst style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:17.85pt;margin-bottom:.0001pt;text-indent:-17.85pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Body</span></span><span
lang=EN-US>.                 The body of the query normally consists of a
for-let-where-return sequence, where the ‘return’ part should call the
CorpusStudio function </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>ru:back()</span></span><span lang=EN-US>.<a
href="#_ftn6" name="_ftnref6" title=""><span class=MsoFootnoteReference><span
class=MsoFootnoteReference><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman","serif"'>[6]</span></span></span></a></span></p>

<p class=ParaFirst style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:17.85pt;margin-bottom:.0001pt;text-indent:-17.85pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Closure</span></span><span
lang=EN-US>.             The query must be closed by a closing curly bracket
and an <i>xml </i>end-tag that matches the opening tag. The difference between
an opening and a closing tag is the presence of a forward slash ‘/’ in the
latter.</span></p>

<p class=ParaFirst><span lang=EN-US>The form and layout of the Xquery code that
is used for queries can best be explained by looking at an example:</span></p>

<p class=ParaFirst align=center style='text-align:center'><img border=0
width=472 height=283 id="Afbeelding 17"
src="CrpStudioWeb-Manual_bestanden/image010.jpg" alt=CrpStudio-QryEdit3.jpg></p>

<p class=MsoCaption><span lang=EN-US>Figure </span><span
lang=EN-US>9</span><span lang=EN-US> Example query</span></p>

<p class=ParaFirst><span lang=EN-US>The lines 1 and 25 provide the obligatory
opening and closure of the query. Line 3 starts the for-block and specifies
that the query considers </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>&lt;su&gt;</span></span><span lang=EN-US> nodes (the
‘su’ nodes in FoLiA are the ‘syntactic units’; they are equivalent to the
‘eTree’ nodes, embedded trees, in Psdx). Only those nodes that have a </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>@class</span></span><span
lang=EN-US> attribute ‘SMAIN’ (main clauses in the Sonar corpus) are regarded
further. The for specifier in line 3 says that it will loop through the whole
text and that every time the conditions are met, the variable </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>$search</span></span><span
lang=EN-US> will contain the ‘SMAIN’ node.</span></p>

<p class=ParaFirst><span lang=EN-US>Lines 6, 9, 12 and 15 create local
variables </span><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'>$sbj</span></span><span lang=EN-US>, </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>$obj</span></span><span lang=EN-US>, </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>$db</span></span><span
lang=EN-US> and </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>$cat</span></span><span lang=EN-US> and assign values
to them. The assignments in lines 6 and 9 build on the </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>$search</span></span><span
lang=EN-US> variable. The </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>$obj</span></span><span lang=EN-US> in line 9, for
instance, is defined as being the first </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&lt;su&gt;</span></span><span lang=EN-US>
node that is a child from </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>$search</span></span><span lang=EN-US>, whose </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>@class </span></span><span
lang=EN-US>attribute matches either </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>N*-OBJ*</span></span><span lang=EN-US> or </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>NP*-OBJ*</span></span><span
lang=EN-US>.<a href="#_ftn7" name="_ftnref7" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman","serif"'>[7]</span></span></span></a>
The built-in function </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>ru:matches()</span></span><span lang=EN-US> is
explained in the appendix, in section </span><span
lang=EN-US>8.3.8</span><span lang=EN-US>.</span></p>

<p class=ParaFirst><span lang=EN-US>Note that the restriction blocks </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>[] </span></span><span
lang=EN-US>may be put one-after-the-other, and that they are considered
left-to-right. If one were to reverse the order of the blocks, resulting in </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>$search/child::su[1][ru:matches(@class,
‘N*-OBJ*|NP*-OBJ*’)]</span></span><span lang=EN-US>, then the meaning would
change. It would be: take the first </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&lt;su&gt;</span></span><span lang=EN-US>
node that is a child from </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>$search</span></span><span lang=EN-US>, and check if
this node has a </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>@class </span></span><span lang=EN-US>attribute matches
either </span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>N*-OBJ*</span></span><span
lang=EN-US> or </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>NP*-OBJ*</span></span><span lang=EN-US>. If there is a
match, then the node is assigned to $obj; if there is no match, then </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>$obj</span></span><span
lang=EN-US> will be empty.<a href="#_ftn8" name="_ftnref8" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman","serif"'>[8]</span></span></span></a></span></p>

<p class=ParaFirst><span lang=EN-US>Line 12 makes use of a standard Xquery
function </span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>concat()</span></span><span
lang=EN-US>. There exists a range of standard functions the user can use in
coding. These functions are listed and explained at <a
href="http://www.w3.org/TR/xquery-operators/">w3c</a>. This line also uses the
function </span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:NodeText</span></span><span
lang=EN-US> that can be used to get a plain text representation of all the
words that are part of a constituent. What line 12 does is create a string that
consists of the text of the subject and the text of the object, separated by a
semicolon. This kind of format is suitable to pass on as second argument in the
</span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:back()</span></span><span
lang=EN-US> function, and then build a result feature database from it.</span></p>

<p class=ParaFirst><span lang=EN-US>Line 15 assigns the </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>@class</span></span><span
lang=EN-US> attribute of the subject variable </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>$sbj</span></span><span lang=EN-US> to a
variable </span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>$cat</span></span><span
lang=EN-US>. This variable is passed on as the third argument of </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:back()</span></span><span
lang=EN-US>, where it serves as a ‘<span class=Emphatic>sub-categorization</span>’
label. Result numbers will be given not only for the grand total of hits, but
they will be sub-divided over those that have the same value for </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>$cat</span></span><span
lang=EN-US>. This feature is illustrated in the numerical results that appear
when the project is run with the “WR-P-P-K_reports” section of Sonar500 as
input (for result-displaying see section </span><span
lang=EN-US>6.8</span><span lang=EN-US>):</span></p>

<p class=ParaFirst style='margin-top:0cm;line-height:3.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><b><span
style='font-size:9.0pt'>QC     Result Label   Category        Number </span></b></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2      matSbjObj      (all together)  5676 </span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2      matSbjObj      N-SU            328 </span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2      matSbjObj      NP-SU           5348</span></span></p>

<p class=ParaFirst><span lang=EN-US>The first line with numerical results gives
the number (5676) of hits for all categories together, while the second and
third line divide this over the sub categorization tags that have been used:
the POS-tag of the subject. The texts have the </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>–SU</span></span><span lang=EN-US> label
attached either to single nouns or to whole NPs. The reason this query doesn’t
find pronominal subjects is the fact that the selection in lines 6 and 19 does
not allow for them. Changing the second argument of </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:matches()</span></span><span
lang=EN-US> in line 6 to “</span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>*-SU</span></span><span lang=EN-US>” leads to a larger
number of sub categories:</span></p>

<p class=ParaFirst style='margin-top:0cm;line-height:3.0pt'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><b><span
style='font-size:9.0pt'>QC      Result Label Category          Number</span></b></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    (all together)    10282</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    ADJ-SU            65</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    BW-SU             14</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    CONJ-SU           459</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    CP-SU             63</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    LID-SU            19</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    MWU-SU            342</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    N-SU              346</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    NP-SU             5771</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    OTI-SU            7</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    SPEC-SU           1094</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    TI-SU             6</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    TW-SU             7</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    VG-SU             23</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    VNW-SU            2018</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    WHREL-SU          12</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    WHSUB-SU          9</span></span></p>

<p class=MsoNormal style='background:#CCFFCC'><span class=ProgramCode><span
style='font-size:9.0pt'>2       matSbjObj    WW-SU             27</span></span></p>

<p class=ParaFirst><span lang=EN-US>The where condition in lines 18-21 says
that the nodes found for the subject and object <i>must</i> exist. If they do,
the function continues; if they don’t the function is not executed any further,
and processing continues with the next </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&lt;su&gt;</span></span><span lang=EN-US>
node that has a ‘SMAIN’ </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>@class</span></span><span lang=EN-US> attribute.</span></p>

<p class=ParaFirst><span lang=EN-US>The for-block ends with a ‘</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>return’</span></span><span
lang=EN-US> statement, and this statement is obligatory within the context of
CorpusStudio. That is to say, any results in terms of counts, result database
features and sub categorization, will only become available if this function </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:back()</span></span><span
lang=EN-US> is called in a return statement with the correct arguments.</span></p>

<p class=ParaFirst><span lang=EN-US>The example query in </span><span lang=EN-US>Figure 10</span><span lang=EN-US> serves to highlight a few more
aspects.</span></p>

<p class=MsoNormal align=center style='text-align:center'><img border=0
width=515 height=492 id="Afbeelding 18"
src="CrpStudioWeb-Manual_bestanden/image011.jpg" alt=CrpStudio-QryEdit4.jpg></p>

<p class=MsoCaption><a name="_Ref438554624"><span lang=EN-US>Figure </span></a><span lang=EN-US>10</span><span lang=EN-US> Query that exemplifies calling user-functions</span></p>

<p class=ParaFirst><span lang=EN-US>This second example query is meant to
search through Psdx texts that are part of the historical English corpora, such
as the YCOE </span><span
lang=EN-US>(<a href="#_ENREF_2" title="Taylor, 2003 #137">Taylor et al. 2003</a>)</span><span
lang=EN-US>. Hence its reference to <i>xml </i>tags </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&lt;eTree&gt;</span></span><span
lang=EN-US> (syntactic constituents), </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&lt;eLeaf&gt;</span></span><span lang=EN-US>
(end-nodes) and its reference to the attributes </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>@Label</span></span><span lang=EN-US>
(pos-tag) and </span><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'>@Type</span></span><span lang=EN-US> (one of four possible end-node
types).</span></p>

<p class=ParaFirst><span lang=EN-US>The query introduces a few new facets that
deserve mentioning:</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Xquery functions</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>         </span></span><span
lang=EN-US>- Line 12 makes use of the Xquery funcion </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>count()</span></span><span
lang=EN-US>, which counts the number of nodes it receives as argument, and line
20 makes use of one of Xquery string functions, ‘</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>substring-before()</span></span><span
lang=EN-US>’.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>CorpusStudio functions </span></span><span
lang=EN-US>    - Line32 uses one more built-in function: </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:conv()</span></span><span
lang=EN-US>. This converts a string using a particular format. </span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>User functions                    </span></span><span
lang=EN-US>- Lines 9, 15-16, 19, 23 and 29 call functions that have been
defined in definition files by the user. These functions can be recognized by
their ‘</span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>tb:</span></span><span
lang=EN-US>’ namespace prefixes.</span></p>

<p class=ParaFirst><span lang=EN-US>The order of execution of a query written
in Xquery is data-dependent. The processor first looks at the return statement,
and sees which elements are needed for that: </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>$search</span></span><span lang=EN-US>, </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>$msg</span></span><span
lang=EN-US> and </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>$cat</span></span><span lang=EN-US>. It then regards
each of these elements, finding out how their values can be determined and so
forth. Note that as a consequence of this method, line 6 is only actually
executed if lines 9, 12 and 15 provide positive results: see line 38 for this.</span></p>

<p class=ParaFirst><span lang=EN-US>Note that line 32 now prepares a string
variable called </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>$msg</span></span><span lang=EN-US>, but this variable
only serves as a message that accompanies each of the results found. More about
when and how the second variable of </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>ru:back()</span></span><span lang=EN-US>
serves as a feature database specifier in section </span><span
lang=EN-US>6.6</span><span lang=EN-US>.</span></p>

<h2><a name="_Toc312497040"><span lang=EN-US>6.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>The “Projects/Pipeline” page</span></a></h2>

<p class=ParaFirst><span lang=EN-US>The queries that are part of the CRP all
appear in the list in the Query page. These queries can <i>potentially</i> be
executed in the context of this project. Whether and how they are, in fact,
executed depends on where and how they appear in the ‘Pipeline’ page of the
CRP. </span></p>

<p class=ParaFirst><span lang=EN-US>The options available for each element of
the query execution pipeline are:</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>New </span></span><span
lang=EN-US>&gt;&gt;<span class=Emphatic> New Line</span>.           Add a new
query line to the pipeline. </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Current </span></span><span
lang=EN-US>&gt;&gt;<span class=Emphatic> Remove</span>.        Delete the
currently selected line from the pipeline. </span></p>

<p class=ParaFirst><span lang=EN-US>Note that it is <i>not possible</i> to
remove a line from the query execution pipeline that serves as input for
another line. </span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=605 height=257 id="Afbeelding 20"
src="CrpStudioWeb-Manual_bestanden/image012.jpg" alt=CrpStudio-Pipeline1.jpg></p>

<p class=MsoCaption><a name="_Ref438557851"><span lang=EN-US>Figure </span></a><span lang=EN-US>11</span><span lang=EN-US> The pipeline page (constructor editor)</span></p>

<p class=ParaFirst><span lang=EN-US>The example of the pipeline shown in </span><span lang=EN-US>Figure 11</span><span lang=EN-US> contains two lines. The first line
has ‘Source’ as input, as can be learned from the ‘Hierarchy’ section in the
Items selector on the left hand side. This means that the line with query
‘matSbj’ takes <i>all </i>the sentences in the text corpus as its input. </span></p>

<p class=ParaFirst><span lang=EN-US>The second line, however, only takes the
sentences that are passed through by the first line as input. Only those
sentences that have a main clause with a subject, according to the query
‘matSbj’, serve as input to the second query called ‘matSbjObj’. This is what
is meant by the “Input” specification ‘1/out’.</span></p>

<p class=ParaFirst><span lang=EN-US>This kind of input restriction might lead
to a small, data-dependent, reduction in execution time. Its purpose may be
found more on the conceptual level—a researcher may want to explicitly
fine-tune a number of queries on top of one another.</span></p>

<p class=ParaFirst><span lang=EN-US>The constructor editor (or ‘pipeline page’)
allows for a number of adjustments:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Result
line</span></span><span lang=EN-US>                    - The label that is used
to identify the results for this line. This label needs to be unique within the
constructor editor (the pipeline page). When <span class=Emphatic>New</span>
&gt;&gt; <span class=Emphatic>NewLine</span> is used, the name of the query is
offered as result line label. This is usually okay, unless a query serves is
called upon in more than one line.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Make
complement       </span></span><span lang=EN-US>- Check this box if the
‘complement’ of the current line should serve as input to another line. This
complement contains all <i>sentences</i> (not just constituents!!) that do not
pass the query.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Query                 </span></span><span
lang=EN-US>- Select one of the queries as specified in the Query editor.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Input                 </span></span><span
lang=EN-US>- Choose the part of the data that should serve as input to this
query line: <i>all </i>data (‘Source’), the output of a line (n/out) or the
complement of a preceding line (n/cmp).</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Goal</span></span><span
lang=EN-US>                                - The goal of this query line. The
goal of the query is copied here initially, but this can be adjusted.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>6)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Explanation</span></span><span
lang=EN-US>                    - Details on this line. The text is initially
copied from the query.</span></p>

<p class=ParaFirst><span lang=EN-US>The button “Query” within the ‘General’
area allows immediate jumping to the selected query for quick inspection.</span></p>

<p class=ParaFirst><span lang=EN-US>Creating a query on the Query page through
New/NewQuery normaly places this query in the execution pipeline. The user
should nevertheless verify the Pipeline page to make sure that the ‘Input’
specification of each line is set correctly.</span></p>

<h2><a name="_Toc312497041"></a><a name="_Ref312492057"><span lang=EN-US>6.6<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>The “Projects/Features” page</span></a></h2>

<p class=ParaFirst><span lang=EN-US>One of the beauties of CorpusStudio is that
every  query can be made to produce a ‘Results database’. Such a database
contains user-specified fields per ‘hit’. </span></p>

<p class=ParaFirst><span lang=EN-US>Telling CorpusStudio to make such a result
database involves two steps:</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Provide a <span class=Emphatic>semi-colon
separated list</span> of values as second argument to </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:back()</span></span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Specify the <span class=Emphatic>names of all
features</span> in the Projects/Features page</span></p>

<p class=ParaFirst><span lang=EN-US>CorpusStudio is blissfully unaware of what
the second argument of </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>ru:back()</span></span><span lang=EN-US> is going to be
used for, basically assuming that it is just a comment that needs to accompany
the resulting hits that the user will take a look at. It is only when a list of
feature names is provided in the Projects/Features page for a particular query
execution line that the web application will attempt to produce a Result
database.</span></p>

<p class=ParaFirst><span lang=EN-US>The ‘Features’ page, then, is dependant
upon the element in the query execution pipeline that is currently selected.
Once a line in the Query Pipeline has been selected, one can create or edit the
feature name specifications for it in the Feature editor.</span></p>

<p class=MsoNormal align=center style='text-align:center'><img border=0
width=605 height=401 id="Afbeelding 22"
src="CrpStudioWeb-Manual_bestanden/image013.jpg" alt=CrpStudio-Features2.jpg></p>

<p class=MsoCaption><span lang=EN-US>Figure </span><span
lang=EN-US>12</span><span lang=EN-US> Feature editor</span></p>

<p class=ParaFirst><span lang=EN-US>Features can be divided into two groups:
(1) those that are calculated within a query, and (2) those that are <i>not</i>
calculated within a feature.</span></p>

<p class=ParaFirst><span lang=EN-US>The first group, the ‘pre-calculated’
features, must be part of the ‘semi-colon-separated-string’ that is passed as
second argument to </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>ru:back()</span></span><span lang=EN-US>. Their
position within this string must match exactly with the <i>number</i> they have
in the Feature list. All features in the second group receive an ordering
number -1 to set them apart from the features in the first group. </span></p>

<p class=ParaFirst><span lang=EN-US>Each feature has the following
characteristics:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Result
line</span></span><span lang=EN-US>                        - This is the label
of the Pipeline’s query line to which the features here belong. This label has
a yellow background, which means that it cannot be changed. The idea is that
one first selects a result line in the Pipeline, and then continues to edit the
features for that line in the Feature editor page.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Name                     </span></span><span
lang=EN-US>- The name of the feature. This name can be chosen completely
independent of the names used in the Xquery code that calculated the feature
values.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Is
calculated in query   </span></span><span lang=EN-US>- Check this box to
indicate that the feature is being calculated within the query.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>Feature
number           </span></span><span lang=EN-US>- The feature number is
assigned automatically. Features that are not calculated within a query receive
the &quot;-1&quot;, while the other features get consecutive numbers. The order
of the features (and their numbering) can be changed by selecting a feature and
using the buttons ‘Up’ and ‘Down’ to change their position in the list.</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<h2><a name="_Toc312497042"><span lang=EN-US>6.7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Query execution</span></a></h2>

<p class=ParaFirst><span lang=EN-US>Execution of the queries that have been
placed in the Pipeline (the constructor editor) means that the web application
takes each text from the corpus that has been specified in the Input page, and
line-by-line executes the combination of the Xquery definitions and each query
on them. </span></p>

<p class=ParaFirst><span lang=EN-US>There are two buttons that can be used to
execute the queries. These buttons appear only when the ‘Project’ page, the
main page for CRP editing, is selected. The button ‘Execute queries’ tries to
make optimal use of information that has already been collected during previous
executions. If the CRP has not changed, the available results will be shown
instantaneously.</span></p>

<p class=ParaFirst><img border=0 width=604 height=85 id="Picture 2"
src="CrpStudioWeb-Manual_bestanden/image014.png"></p>

<p class=MsoCaption><a name="_Ref426113509"><span lang=EN-US>Figure </span></a><span lang=EN-US>13</span><span lang=EN-US> Two query execution buttons</span></p>

<p class=ParaFirst><span lang=EN-US>The button labelled “Excute queries (no
cache)” executes the queries afresh, without making use of any previously
stored data. Use this button if there is reason to believe something went wrong
on your computer or on the server. </span></p>

<p class=MsoNormal align=center style='text-align:center'><img border=0
width=436 height=188 id="Picture 3"
src="CrpStudioWeb-Manual_bestanden/image015.png"></p>

<p class=MsoCaption>Figure 14 Progress bars while executing a project</p>

<p class=ParaFirst><span lang=EN-US>The normal reaction to pressing the <span
class=Emphatic>Execute</span> button is to reveal two progress indicators: one
keeping track of the files that have been turned over to the query execution
engine, and one that keeps track of the files that have been completed.
Depending on the project and the number of processes on the server, it may take
some time before the progress bars become visible.</span></p>

<p class=ParaFirst><span lang=EN-US>The space below ‘Status’ may give
additional information on the status of the project that is being executed.</span></p>

<h3>6.7.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Syntax errors</h3>

<p class=ParaFirst><span lang=EN-US>There are at least two kinds of possible
errors in the Xquery code. Syntax errors or making use of internal functions
that do not exist will show up before the actual execution of the project takes
place. An error message like the one in </span><span
lang=EN-US>Figure 15</span><span lang=EN-US> will appear.</span></p>

<p class=ParaFirst align=center style='text-align:center'><img border=0
width=494 height=341 id="Afbeelding 10"
src="CrpStudioWeb-Manual_bestanden/image016.jpg"
alt=CrpStudio-Execution-Error1.jpg></p>

<p class=MsoCaption><a name="_Ref426120691"><span lang=EN-US>Figure </span></a><span lang=EN-US>15</span><span lang=EN-US> A syntax error in the Xquery code</span></p>

<p class=ParaFirst><span lang=EN-US>The error report identifies the name of the
query or definition (see “</span><span class=CodeInLine><span lang=EN-US
style='font-size:10.0pt'>Name</span></span><span lang=EN-US>”, last row) where
the error has occured, and the line number (see “</span><span class=CodeInLine><span
lang=EN-US style='font-size:10.0pt'>Line</span></span><span lang=EN-US>”)
within the query or definition. The combination of the location with that of
the description of the error should be enough to identify the problem and adapt
the program accordingly.</span></p>

<p class=ParaFirst><span lang=EN-US>The current error says that the Xquery
engine cannot find a function named </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>ru:ant()</span></span><span lang=EN-US> that
takes just one argument. The reason for this is that this function has not yet
been implemented in the version of CorpusStudio. <u>Note</u>: if the function </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:ant()</span></span><span
lang=EN-US> would have existed, but it would have required <i>two</i>
arguments, the same error message would have been given.</span></p>

<h3>6.7.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Runtime errors</h3>

<p class=ParaFirst>A runtime error occurs when a syntactically valid Xquery
function is being executed but an unexpected situation occurs. This could be
the case if the <i>xml</i> code of the text being queried has a
problem—although such a situation is unlikely to occur, since the texts
available at the server have been checked. </p>

<p class=ParaFirst>A very likely situation for a runtime error to occur is
where an Xquery function expects to have <b>one</b> (1) node as one of its
arguments, but what it receives is a collection of nodes. This can especially happen
in functions of the &quot;<span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>ru:</span></span>&quot; namespace. When this happens,
an error report like X should appear.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><img border=0 width=604 height=358 id="Afbeelding 1"
src="CrpStudioWeb-Manual_bestanden/image017.jpg" alt=CrpStudio-QryError1.jpg></p>

<p class=MsoCaption>Figure 16 A runtime error occurs</p>

<p class=ParaFirst>The error report of a runtime error is more comprehensive
than that of a syntax error. The location in the code where the error occurs is
identified through the <span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>'Name'</span></span> of the query (which is <span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>'matSbjObj'</span></span>
in the example), as is the <span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>line</span></span> and <span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>column</span></span> number (line 12, column
14). But the error report also identifies the <span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>'text'</span></span> where the error occurs
('<span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>WR-P-P-K-0000000005.folia.xml</span></span><span
lang=EN-US>'</span>) and the <span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>&lt;s&gt;</span></span> or <span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&lt;forest&gt;</span></span> of that text
through the 'sentid' ('<span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>WR-P-P-K-0000000005.p.9.s.3</span></span><span
lang=EN-US>'</span>).</p>

<p class=ParaFirst>The '<span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>Descr</span></span>' part of the error (which happens
to be identical to the '<span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>msg</span></span>' here) provides an explanation for
the error: the function '<span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>ru:nodetext()</span></span>' apparently expects only
one node, but it receives a sequence of two in the text it was querying.</p>

<p class=ParaFirst>The <span class=Emphatic><span lang=EN-US>solution</span></span>
to a runtime error like this is to review the code (lookup the line and column
in the identified query), and make sure that the parameter passed on to <span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:NodeText()</span></span>
is restricted to one node. If, for instance, the function is called with a variable
<span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>$ndFound</span></span>,
then it would be possible to improve the code by changing the call into <span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:NodeText($ndFound[1])
</span></span><span lang=EN-US>or </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>ru:NodeText($ndFound[last()])</span></span>.
This makes sure only the <i>first</i> or only the <i>last </i>node in the
sequence identified by <span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>$ndFound</span></span> is passed on to <span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:NodeText()</span></span>.
</p>

<p class=ParaNext><span lang=EN-US>Care should be taken here, however. The fact
that a function like </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>ru:NodeText()</span></span><span lang=EN-US> receives a
sequence of more than one node as argument is often a signal that some
assumptions made in the Xquery code have been wrong. </span></p>

<h2><a name="_Toc312497043"></a><a name="_Ref312496963">6.8<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The “Results” page</a></h2>

<p class=ParaFirst style='page-break-after:avoid'><span lang=EN-US>When query
execution leads to results, the “Results” page is automatically selected, and a
concise overview of the number of hits is shown, as for example </span><span lang=EN-US>Figure 13</span><span lang=EN-US>.</span></p>

<p class=MsoNormal align=center style='text-align:center'><img border=0
width=524 height=230 id="Picture 5"
src="CrpStudioWeb-Manual_bestanden/image018.png"></p>

<p class=MsoCaption><span lang=EN-US>Figure </span><span
lang=EN-US>17</span><span lang=EN-US> Concise overview of the results</span></p>

<p class=ParaFirst><span lang=EN-US>The overview in </span><span
lang=EN-US>Figure 13</span><span lang=EN-US> shows the number of hits for each
of the seven query lines, such as ‘60474’ for line #2. </span></p>

<h3><a name="_Toc312497044"></a><a name="_Ref426117341">6.8.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The results overview</a></h3>

<p class=ParaFirst><span lang=EN-US>The overview table serves as a platform for
further processing. The options are:</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Export</span></span><span
lang=EN-US>.          Provide the overview as a tab-separated text file.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Edit</span></span><span
lang=EN-US>.               Turn to the query editor of the selected line.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Selection</span></span><span
lang=EN-US>.      Select one of the QC (query constructor) lines by clicking it.</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst><span lang=EN-US>The <span class=Emphatic>Export</span>
button here yields a tab-separated table with an overview of the number of hits
for both the query lines as well as the sub categories:</span></p>

<p class=ExportTable><span lang=EN-US>date:             2015-07-31 13:45:03</span></p>

<p class=ExportTable><span lang=EN-US>&nbsp;</span></p>

<p class=ExportTable><span lang=EN-US>overview table</span></p>

<p class=ExportTable><span lang=EN-US>&nbsp;</span></p>

<p class=ExportTable><span lang=EN-US>QC   Result Label Category          Number</span></p>

<p class=ExportTable><span lang=EN-US>2    matV2q       (all together)    60474</span></p>

<p class=ExportTable><span lang=EN-US>2    matV2q       1:[iSbj-XP-Vf]    2504</span></p>

<p class=ExportTable><span lang=EN-US>2    matV2q       1:[iSbj-iVf]      29121</span></p>

<p class=ExportTable><span lang=EN-US>2    matV2q       2:[XP-Sbj-YP-Vf]  937</span></p>

<p class=ExportTable><span lang=EN-US>2    matV2q       3:[XP-Sbj-iVf]    17275</span></p>

<p class=ExportTable><span lang=EN-US>2    matV2q       4:[Vf-Sbj-Vn]     2491</span></p>

<p class=ExportTable><span lang=EN-US>2    matV2q       4:[Vf-Sbj]        7590</span></p>

<p class=ExportTable><span lang=EN-US>2    matV2q       5:[Vf-Vn-Sbj]     556</span></p>

<p class=ParaFirst><span lang=EN-US>The <span class=Emphatic>Edit</span> button
opens the “Queries” page and turns to the selected Query.</span></p>

<p class=ParaFirst><span lang=EN-US>Pressing the redded subcategory or
frequency in the overview table results in the <span class=Emphatic>Selection</span>
of that Query line. If the query has results that are divided over different
sub categories (see section </span><span lang=EN-US>8.3.1</span><span
lang=EN-US> on this feature of </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>ru:back()</span></span><span lang=EN-US> and section </span><span lang=EN-US>6.4.2</span><span lang=EN-US> for an example), then selecting the Query
line results in an adapted overview that shows the hit frequencies for each of
the categories. </span>These category-lines can also be selected.</p>

<p class=ParaFirst>&nbsp;</p>

<p class=MsoNormal align=center style='text-align:center'><img border=0
width=486 height=361 id="Picture 6"
src="CrpStudioWeb-Manual_bestanden/image019.png"></p>

<p class=MsoCaption><span lang=EN-US>Figure </span><span
lang=EN-US>18</span><span lang=EN-US> Selection of a category line</span></p>

<p class=ParaFirst><span lang=EN-US>The selection of either a line (either of a
query or of a category) causes a <span class=Emphatic>Details</span> button to
appear. Clicking this button opens a window with the detailed results for the
selected query-category combination.</span></p>

<h3><a name="_Toc312497045">6.8.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Result details: “per hit”</a></h3>

<p class=ParaFirst style='page-break-after:avoid'><span lang=EN-US>The details
of the results can be viewed in a number of different ways: (a) hit-by-hit, (b)
hits-per-document, (c) hits-per-group and (d) hits-per-division.<a href="#_ftn9"
name="_ftnref9" title=""><span class=MsoFootnoteReference><span
class=MsoFootnoteReference><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman","serif"'>[9]</span></span></span></a> The “hit-by-hit”, as
illustrated in </span><span lang=EN-US>Figure 19</span><span lang=EN-US>, is
the default one.</span></p>

<p class=ParaFirst><img border=0 width=605 height=364 id="Afbeelding 6"
src="CrpStudioWeb-Manual_bestanden/image020.jpg"
alt=CrpStudio-ResultsView1-Sub.jpg></p>

<p class=MsoCaption><a name="_Ref426117133"><span lang=EN-US>Figure </span></a><span lang=EN-US>19</span><span lang=EN-US> Result details per hit</span></p>

<p class=ParaFirst><span lang=EN-US>The detailed results information offers the
following possibilities:</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Back</span></span><span
lang=EN-US>.             The </span><span lang=EN-US style='color:white;
background:maroon'>&lt;&lt;</span><span lang=EN-US> button returns to the
general result table overview (see </span><span
lang=EN-US>6.8.1</span><span lang=EN-US>).</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Pagination</span></span><span
lang=EN-US>.    Adjust number of hits per page, and select the page to be
shown.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Export</span></span><span
lang=EN-US>.          Export the information shown on this page.</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst><span lang=EN-US>The results are, generally speaking, not
shown all together, but they are divided into <i>pages</i>. The number of hits
per page can be adjusted in the “Show <i>nn</i> per page” selector, while the
“Page <i>nn</i> of <i>mmm</i> <span style='color:white;background:#C00000'>Go</span>”
combination allows one to select the page to be shown.</span></p>

<p class=ParaFirst><u><span lang=EN-US>Note</span></u><span lang=EN-US>: it is
possible to get <i>all </i>the hits on one ‘page’, but this process may take
some time, depending on the amount of hits there exist.</span></p>

<p class=ParaFirst><span lang=EN-US>The <span class=Emphatic>Export</span>
button causes a tab-separated text file to be made that contains the results
shown in the currently selected page. Since this export file may be useful for
further research in other programs, it is important to know the format of the
text file. Each line in the tab-separated text file contains the following
eight fields:</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>n      </span></span><span lang=EN-US>line
number</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>file   </span></span><span lang=EN-US>name
of the text file</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>locS   </span></span><span lang=EN-US>location
of the sentence</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>locW   </span></span><span lang=EN-US>location
of the constituent</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>preC   </span></span><span lang=EN-US>context
preceding the hit</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>hitC   </span></span><span lang=EN-US>the
hit itself (the part of the sentence returned by the Xquery </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:back()</span></span><span
lang=EN-US> function)</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>folC   </span></span><span lang=EN-US>context
following the hit</span></p>

<p class=ParaFirst style='margin-top:0cm'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>hitS   </span></span><span lang=EN-US>a
syntactic break-up of the hit</span></p>

<h3><a name="_Toc312497046">6.8.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Result details: “per document”</a></h3>

<p class=ParaFirst><span lang=EN-US>Selection of the “Per document” tab within
the “Results” page gives an overview of the results that is grouped per
document. Only those documents that have at least one ‘hit’ in them are shown
in this overview. When one category has been selected in the Results overview
page, the frequencies are shown per document for that category (</span><span lang=EN-US>Figure 20</span><span lang=EN-US>), but when the query line has been
selected as a whole, the frequencies for all the categories are shown in a
table (</span><span lang=EN-US>Figure 21</span><span lang=EN-US>).</span></p>

<p class=ParaFirst style='page-break-after:avoid'><img border=0 width=605
height=250 id="Afbeelding 7" src="CrpStudioWeb-Manual_bestanden/image021.jpg"
alt=CrpStudio-ResultsView2-Sub.jpg></p>

<p class=MsoCaption><a name="_Ref426118711"><span lang=EN-US>Figure </span></a><span lang=EN-US>20</span><span lang=EN-US> Result details per document: one category
selected</span></p>

<p class=ParaFirst style='page-break-after:avoid'><span lang=EN-US>.</span><img
border=0 width=604 height=251 id="Afbeelding 8"
src="CrpStudioWeb-Manual_bestanden/image022.jpg"
alt=CrpStudio-ResultsView2-All.jpg></p>

<p class=MsoCaption><a name="_Ref426118827"><span lang=EN-US>Figure </span></a><span lang=EN-US>21</span><span lang=EN-US> Result details per document: a query line
has been selected</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:6.0pt;text-align:justify;page-break-after:
avoid'><span lang=EN-US>The <span class=Emphatic>Export</span> button in the
“per document” view results in a tab-separated file to be made that contains
the frequencies of the selected results, e.g:</span></p>

<p class=MsoNormal style='margin-right:134.55pt;page-break-after:avoid'><span
lang=EN-US>&nbsp;</span></p>

<pre style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt'>date:               2015-07-31 15:21:31</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></pre><pre style='margin-right:
134.55pt;page-break-after:avoid;background:#DAEEF3'><span lang=EN-US
style='font-size:9.0pt;color:#C00000'>QC line:            matV2q</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt;color:#C00000'>Sub category:       4:[Vf-Sbj]</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt;color:#C00000'>Count:              7590</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt'>cmaelr3.m23.psdx    525      27</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt'>cmaelr4.m4.psdx     425      39</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt'>cmancriw-1.m1.psdx  2300     316</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt'>cmancriw-2.m1.psdx  787      131</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt'>cmastro.m3.psdx     222      57</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt'>cmayenbi.m2.psdx    2322     266</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt'>cmbenrul.m3.psdx    912      171</span></pre><pre
style='margin-right:134.55pt;page-break-after:avoid;background:#DAEEF3'><span
lang=EN-US style='font-size:9.0pt'>cmboeth.m3.psdx     514      190</span></pre><pre
style='margin-right:134.55pt;background:#DAEEF3'><span lang=EN-US
style='font-size:9.0pt'>cmbrut3.m3.psdx     2448     238</span></pre>

<p class=ParaFirst><span lang=EN-US>The top lines in the exported file contain
general information: the selected query line, the sub category and the total
number of hits for this sub category (which can be verified with the table
produced from the general results overview). These lines have been made ‘red’
in the example above, but in the text file they do not have a distinguishing
color.</span></p>

<p class=ParaFirst><span lang=EN-US>Subsequent lines contain the information
per document: </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>the total number of hits for the document for
this query line, and </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>the number of hits taken up by the currently
selected sub category. </span></p>

<p class=ParaFirst><span lang=EN-US>This allows for the calculation of relative
frequencies. Future releases will have more quantitative information of the
type that is already available in the Windows edition of CorpusStudio:</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>the number of sentences per document (that is:
the number of </span><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'>&lt;forest&gt;</span></span><span lang=EN-US> tags in Psdx texts or the
number of </span><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'>&lt;s&gt;</span></span><span lang=EN-US> tags in FoLiA texts)</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>the number of words per document</span></p>

<p class=ParaFirst><span lang=EN-US>The output that has been produced by the
query can be inspected for each individual document Selection of, for example,
“</span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>cmaelr4.m4.psdx</span></span><span
lang=EN-US>” in </span><span lang=EN-US>Figure 20</span><span lang=EN-US> shows
all the hits for query line 2 (“</span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>matV2q</span></span><span lang=EN-US>”),
category “</span><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'>4:[Vf-Sbj]</span></span><span lang=EN-US>” and file “</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>cmaelr4.m4.psdx</span></span><span
lang=EN-US>”, as in </span><span lang=EN-US>Figure 22</span><span lang=EN-US>.</span></p>

<p class=ParaFirst style='page-break-after:avoid'><img border=0 width=605
height=257 id="Afbeelding 9" src="CrpStudioWeb-Manual_bestanden/image023.jpg"
alt=CrpStudio-ResultsView2-Sub-file.jpg></p>

<p class=MsoCaption><a name="_Ref426119329"><span lang=EN-US>Figure </span></a><span lang=EN-US>22</span><span lang=EN-US> Result details for one document</span></p>

<h3><a name="_Toc312497047">6.8.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Result details: “per group”</a></h3>

<p class=ParaFirst><span lang=EN-US>The option to view results per ‘group’ is
not yet available, but is due to be implemented as soon as time permits.</span></p>

<p class=ParaFirst><span lang=EN-US>The idea of dividing results in groups
works like this:</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>The CorpusStudio program comes with a number of
pre-defined ‘groupings’: collections of groups.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>The user can define its own groupings for a
particular corpus by (a) selecting that corpus in <span class=Emphatic>Corpora</span>
&gt;&gt; <span class=Emphatic>Edit</span> and then pressing the <span
class=Emphatic>Grouping</span> button</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Within the context of one ‘grouping’, each text
is assigned to a particular group label on the basis of the text’s meta data
(e.g. genre, publication year, author)</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Groups (and groupings) can be defined <i>after</i>
a project has been executed</span></p>

<p class=ParaFirst><span lang=EN-US>When the user wants to look at the results
for a particular ‘grouping’, this grouping needs to be selected in the combobox
on the <span class=Emphatic>Results</span> &gt;&gt; <span class=Emphatic>By
group</span> page. What appears there is a table that is divided into rows and
columns. There is one column for each ‘group’ that is part of the grouping
(each group will show, even if it does not contain hits). And there’s one row
for each sub category in the results, if the current results have been divided
into sub categories through the </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>ru:back()</span></span><span lang=EN-US>
function.</span></p>

<p class=ParaFirst><span lang=EN-US>Each of the cells in the group table, then,
represents the number of hits for a particular group-category combination.
Clicking a cell brings up its contents: the files that have hits for this
group/category combination, and the number of hits in them. Clicking one of the
files shows the results for that file.</span></p>

<h3><a name="_Toc312497048">6.8.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Result details: “per division”</a></h3>

<p class=ParaFirst><span lang=EN-US>The option to view results per ‘division’
is not yet available. This option will either be merged with the ‘result per
group’ view (since that view already allows choosing a division, a grouping),
or a new way to look at all defined groupings in one go will be created. </span></p>

<p class=ParaFirst><u><span lang=EN-US>Note</span></u><span lang=EN-US>: Users
are invited to actively participate in the development of this option.</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><a name="_Toc298090980"></a><a name="_Toc312497049"><span lang=EN-US>7<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Bibliography</span></a></h1>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<p class=EndNoteBibliography style='margin-left:36.0pt;text-indent:-36.0pt'><span lang=EN-US><a name="_ENREF_1">Boag, Scott, Chamberlin, Don, Fernández, Mary F.,
Florescu, Daniela, Robie, Jonathan &amp; Siméon, Jérôme. 2010. <i>XQuery 1.0:
An XML Query Language (Second Edition)</i>: W3C Recommendation, &lt;</a></span><a
href="http://www.w3.org/XML/Query/#specs"><span lang=EN-US>http://www.w3.org/XML/Query/#specs</span></a><span
lang=EN-US> &gt;.</span></p>

<p class=EndNoteBibliography style='margin-left:36.0pt;text-indent:-36.0pt'><a
name="_ENREF_2"><span lang=EN-US>Taylor, Ann, Warner, Athony, Pintzuk, Susan
&amp; Beths, Frank. 2003. <i>The York-Toronto-Helsinki Parsed Corpus of Old
English Prose</i>, &lt;</span></a><a
href="http://www-users.york.ac.uk/~lang22/YCOE/YcoeHome.htm"><span lang=EN-US>http://www-users.york.ac.uk/~lang22/YCOE/YcoeHome.htm</span></a><span
lang=EN-US> &gt;.</span></p>

<p class=EndNoteBibliography style='margin-left:36.0pt;text-indent:-36.0pt'><a
name="_ENREF_3"><span lang=EN-US>W3C. 2010. <i>XML query (Xquery)</i>, &lt;</span></a><a
href="http://www.w3.org/XML/Query/#specs"><span lang=EN-US>http://www.w3.org/XML/Query/#specs</span></a><span
lang=EN-US> &gt;.</span></p>

<p class=EndNoteBibliography style='margin-left:36.0pt;text-indent:-36.0pt'><a
name="_ENREF_4"><span lang=EN-US>Yao, Xuchen &amp; Bouma, Gosse. 2010. “Mining
Discourse Treebanks with XQuery”. Paper presented at <i>Ninth international
workshop on treebanks and linguistic theories (TLT9)</i>, Tartu, Estonia.</span></a></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<h1><a name="_Toc312497050"><span lang=EN-US>8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Appendix</span></a></h1>

<p class=ParaFirst><span lang=EN-US>This appendix contains vital information
for those who would like to run CorpusStudio on a different server for their
own corpora (see </span><span lang=EN-US>8.1</span><span lang=EN-US>). The
second part of the appendix (section </span><span
lang=EN-US>8.2</span><span lang=EN-US>) contains samples of user-defined Xuery
functions and the third part of the appendix (section </span><span
lang=EN-US>8.3</span><span lang=EN-US>) contains information about each of the </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:</span></span><span
lang=EN-US> namespace Xquery functions that come with the current web application
version of CorpusStudio. </span></p>

<h2><a name="_Toc298090981"></a><a name="_Toc417138221"></a><a
name="_Ref297784319"></a><a name="_Toc312497051"></a><a name="_Ref438473444"><span
lang=EN-US>8.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Adapt CorpusStudio for use with other corpora</span></a></h2>

<p class=ParaFirst><span lang=EN-US>Adapting the CorpusStudio web application
for one’s own corpora is possible, provided the application is run from one’s
own Linux server. </span></p>

<h3><a name="_Toc312497052">8.1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Requirements</a></h3>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Server</span></span><span
lang=EN-US>. Linux server. The program has been developed under CentOS, but it
should be possible to use other Linux versions.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Space</span></span><span
lang=EN-US>. The server should  have enough space to hold one’s corpora as well
as CorpusStudio and the engine it runs on (Java + Tomcat). The program uses
space on the hard drive under the /etc/project directory as well as under its
deployment directory.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Memory</span></span><span
lang=EN-US>. The amount of RAM memory needed is roughly 1 Gbyte per processor
plus perhaps 20 Gbyte to start with. The amount can be determined
experimentally by creating a CRP that searches through the maximum number of
input files (it’s the number of files that counts, not so much their size), and
then watching the amount of ‘free memory left’ in the cataline log file. E.g: </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>sudo tail -n 400
/usr/share/tomcat/logs/catalina.out | grep &quot;Free m&quot;</span></span><span
lang=EN-US>. Note: changes in the amount of memory that is available do <i>not</i>
automatically become ‘known’ to Tomcat. The amount of memory that should be
used by Tomcat must be specified by adding or adapting the JAVA_OPTS line in
the tomcat.conf file. The CentOS server CLARIN’s application has been built on
has this file in the </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>/usr/share/tomcat/conf/</span></span><span lang=EN-US>
directory. </span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Processor</span></span><span
lang=EN-US>. The speed at which the web application will search through texts
increases as more processing cores are available. But note that each processing
core also increases the amount of RAM memory needed. Something like 8-20 cores
should get a nice speed.</span></p>

<p class=ParaFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>Software</span></span><span
lang=EN-US>. Java (version 1.7 or higher) and tomcat (version 7 or higher)
should be installed on the server.</span></p>

<h3><a name="_Toc312497053">8.1.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Installation</a></h3>

<p class=ParaFirst><span lang=EN-US>The installation of the CorpusStudio web
application is Linux-system (and version) dependent. A virtual machine that has
a CentOS system containing <u>no</u>  installation of Java would require the
following commands to prepare the machine for CorpusStudio:</span></p>

<p class=MsoNormal><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Arrange for sudo
access</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># - Add a user
account for the person in charge (e.g “<b>crphome</b>”)</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># - Log in as root:
su</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># - Edit the
/etc/sudoers file:</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>#   add a line for ‘<b>crphome’</b>
that has the same priorities as ‘root’</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Changes to the
principal’s user account: get a directory ‘webapps’</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>cd ~</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>mkdir webapps</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>#</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Update to latest
installations</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>sudo yum update</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Install
epel-release</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>sudo yum install –y
epel-release</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Manual tweaking of
epel-release:</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>sudo wget
http://dl.iuscommunity.org/pub/ius/stable/RedHat/6/x86_64/ius-release-1.0-13.ius.el6.noarch.rpm
</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>sudo rpm -Uvh
ius-release*.rpm</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Install Java</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>sudo yum install –y
java</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Install tomcat </span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>sudo yum install –y
tomcat</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Check the correct
paths for Java, and create (or adapt) the file .bash_profile in the directory
/home/crpstudio:</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># .bash_profile</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Get the aliases
and functions</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>if [ -f ~/.bashrc ];
then</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        . ~/.bashrc</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>fi</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># User specific
environment and startup programs</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>PATH=$PATH:$HOME/bin:/usr/share/alpino/bin</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.45-28.b13.el6_6.x86_64/jre</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>JRE_HOME=$JAVA_HOME</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>PATH=$JAVA_HOME/bin:$PATH:$HOME/bin</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>CATALINA_HOME=/usr/share/tomcat</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Make the variables
available</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>export JAVA_HOME</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>export JRE_HOME</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>export PATH</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Adapt the file “ajp.conf”
in directory /etc/httpd/conf.d so that it contains the lines with “crpp” and
“crpstudio”:</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ProxyRequests Off</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&lt;Proxy *&gt;</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        Order
deny,allow</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        Deny from
none</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        Allow from
localhost</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&lt;/Proxy&gt;</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ProxyPass          
/crpp   ajp://localhost:8009/crpp</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ProxyPassReverse   
/crpp   ajp://localhost:8009/crpp</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ProxyPass          
/crpstudio    ajp://localhost:8009/crpstudio</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ProxyPassReverse   
/crpstudio    ajp://localhost:8009/crpstudio</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Go to directory /usr/share/tomcat/conf/Catalina</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>cd /usr/share/tomcat/conf/Catalina</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Create a file
crpp.xml </span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&lt;?xml
version='1.0' encoding='utf-8'?&gt;</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&lt;Context
docBase=&quot;/home/<b>crphome</b>/webapps/CrppS&quot; path=&quot;/crpp&quot;
reloadable=&quot;true&quot; /&gt;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Create a file
crpstudio.xml </span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&lt;?xml
version='1.0' encoding='utf-8'?&gt;</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&lt;Context antiJARLocking=&quot;true&quot;
docBase=&quot;/home/<b>crphome</b>/webapps/CrpStudio&quot;
path=&quot;/crpstudio&quot; reloadable=&quot;true&quot; /&gt;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Adapt the existing
file server.xml in directory /usr/share/tomcat/conf, adding a ‘localhost2’
section after the existing ‘localhost’ one (depending on the main user’s home
directory; this makes sure the *.war files in the user’s webapps directory are
unpacked properly):</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>      &lt;Host
name=&quot;localhost2&quot;  appBase=&quot;/home/<b>crphome</b>/webapps&quot;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>           
unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        &lt;!--
SingleSignOn valve, share authentication between web applications</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>            
Documentation at: /docs/config/valve.html --&gt;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        &lt;!--</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        &lt;Valve
className=&quot;org.apache.catalina.authenticator.SingleSignOn&quot; /&gt;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        --&gt;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        &lt;!--
Access log processes all example.</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>            
Documentation at: /docs/config/valve.html</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>             Note:
The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        &lt;Valve
className=&quot;org.apache.catalina.valves.AccessLogValve&quot;
directory=&quot;logs&quot;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>              
prefix=&quot;nederlab_access_log.&quot; suffix=&quot;.txt&quot;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>              
pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>      &lt;/Host&gt;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Adapt the lines
for JAVA_HOME and JAVA_OPTS in the file tomcat.conf that resides in directory
/usr/share/tomcat/conf (this says Java uses 45 Gbytes maximum and 1Gbytes
minimum):</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Where your java
installation lives</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.45-28.b13.el6_6.x86_64/jre&quot;</span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># You can pass some
parameters to java here if you wish to </span></span></p>

<p class=MsoNormal style='margin-left:2.0cm;text-indent:-1.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>JAVA_OPTS=&quot;-Xmx45G
-Xms1G&quot;</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># add user <b>crphome</b>
to the ‘tomcat’ group</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>sudo usermod –a –G
tomcat <b>crphome</b></span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>#</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># log off and log in
again as <b>crphome</b> to let the changes become effective</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>#</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Create a directory
structure that at least contains:</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># /etc/corpora       -
this must contain file crp-info.json</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># /etc/project       -
this must contain a directory for each user</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>#                    
Crpstudio will create a settings.json file</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>#                      
inside each user’s directory</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># /etc/crpstudio     -
this must contain a directory for each user</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>#                     it
must also contain crpstudio-settings.json</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>#</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Make sure the
directories created are owned by tomcat:tomcat</span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># </span></span></p>

<p class=MsoNormal style='margin-left:1.0cm;text-indent:-1.0cm'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'># Make sure the
crp-info.json file is adapted to one’s use and is validated</span></span></p>

<h3><a name="_Ref297807505"></a><a name="_Toc298090982"></a><a
name="_Toc417138222"></a><a name="_Toc312497054"><span lang=EN-US>8.1.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>File crp-info.json</span></a></h3>

<p class=ParaFirst><span lang=EN-US>The file ‘crp-info.json’ must reside in the
server’s /etc/corpora directory. Here is a sample of its possible contents. It
contains a definition for one corpus (the Lak language) and all its associated
information.</span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>{
&quot;corpora&quot;: [</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>   
{&quot;lng&quot;: &quot;lak_cyr&quot;, &quot;name&quot;: &quot;Lak (lbe),
Cyrillic orthography&quot;, &quot;eth&quot;: &quot;lbe&quot;,</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     &quot;metavar&quot;:
&quot;caucasian&quot;,</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>    
&quot;parts&quot;: [</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>       
{&quot;name&quot;: &quot;PCMLBE&quot;, &quot;dir&quot;: &quot;PCMLBE&quot;,
&quot;descr&quot;: &quot;Parsed Corpus of Modern Lak&quot;,</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>               
&quot;metavar&quot;: &quot;caucasian&quot;, &quot;psdx&quot;: &quot;&quot;,
&quot;folia&quot;: &quot;&quot;,</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>               
&quot;url&quot;: &quot;http://erwinkomen.ruhosting.nl/lbe/crp/&quot;}</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     </span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     ]}</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>  ],</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'> 
&quot;metavar&quot;: [</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>   
{&quot;name&quot;: &quot;caucasian&quot;,</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>    
&quot;variables&quot;: [ </span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     
{&quot;name&quot;: &quot;author&quot;,    &quot;descr&quot;:
&quot;Author&quot;,                       &quot;type&quot;: &quot;txt&quot;,
&quot;loc&quot;: &quot;header&quot;, &quot;value&quot;:
&quot;descendant::titleStmt/@author&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     
{&quot;name&quot;: &quot;date&quot;,      &quot;descr&quot;: &quot;Estimated
manuscript date&quot;,    &quot;type&quot;: &quot;int&quot;, &quot;loc&quot;:
&quot;header&quot;, &quot;value&quot;:
&quot;descendant::creation/@manuscript&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     
{&quot;name&quot;: &quot;editor&quot;,    &quot;descr&quot;:
&quot;Editor&quot;,                       &quot;type&quot;: &quot;txt&quot;,
&quot;loc&quot;: &quot;header&quot;, &quot;value&quot;:
&quot;descendant::titleStmt/@editor&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     
{&quot;name&quot;: &quot;genre&quot;,     &quot;descr&quot;: &quot;Type of
text&quot;,                 &quot;type&quot;: &quot;txt&quot;, &quot;loc&quot;:
&quot;header&quot;, &quot;value&quot;:
&quot;descendant::creation/@genre&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     
{&quot;name&quot;: &quot;subtype&quot;,   &quot;descr&quot;:
&quot;Time/genre/translated combi&quot;,  &quot;type&quot;: &quot;txt&quot;,
&quot;loc&quot;: &quot;header&quot;, &quot;value&quot;:
&quot;descendant::creation/@subtype&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     
{&quot;name&quot;: &quot;title&quot;,     &quot;descr&quot;: &quot;Title of
document&quot;,            &quot;type&quot;: &quot;txt&quot;, &quot;loc&quot;:
&quot;header&quot;, &quot;value&quot;:
&quot;descendant::titleStmt/@title&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     
{&quot;name&quot;: &quot;translated&quot;,&quot;descr&quot;: &quot;Is this
translated?&quot;,          &quot;type&quot;: &quot;txt&quot;, &quot;loc&quot;:
&quot;header&quot;, &quot;value&quot;: &quot;if
(ends-with(descendant::creation/@subtype, 't')) then 'true' else 'false'&quot;}</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     ],</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>    
&quot;tagset&quot;: [</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        {&quot;title&quot;:
&quot;clsAny&quot;, &quot;def&quot;: &quot;IP*&quot;}, </span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        {&quot;title&quot;:
&quot;clsMain&quot;,&quot;def&quot;: &quot;IP-MAT*&quot;}, </span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        {&quot;title&quot;:
&quot;clsSub&quot;, &quot;def&quot;: &quot;IP-SUB*&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        {&quot;title&quot;:
&quot;clsInf&quot;, &quot;def&quot;: &quot;IP-INF*&quot;}, </span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        {&quot;title&quot;:
&quot;npSbj&quot;,  &quot;def&quot;: &quot;NP-SBJ*&quot;}, </span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        {&quot;title&quot;:
&quot;npObj&quot;,  &quot;def&quot;: &quot;NP-OB*&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        {&quot;title&quot;:
&quot;npAny&quot;,  &quot;def&quot;: &quot;NP|NP-*&quot;}, </span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        {&quot;title&quot;:
&quot;ppAny&quot;,  &quot;def&quot;: &quot;PP|PP-*&quot;}, </span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        {&quot;title&quot;:
&quot;vbAny&quot;,  &quot;def&quot;: &quot;V*|AX*&quot;}, </span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>        {&quot;title&quot;:
&quot;vbFin&quot;,  &quot;def&quot;: &quot;VB[PD]*|AX*&quot;}</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     ],</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>    
&quot;groupings&quot;: [</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>       {&quot;name&quot;:
&quot;subtype&quot;, &quot;descr&quot;: &quot;Combination of time and
translated&quot;, <br>
&quot;value&quot;: &quot;$subtype&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>      
{&quot;name&quot;: &quot;titleAlphabet&quot;, &quot;descr&quot;: &quot;First
letter of title&quot;, <br>
&quot;value&quot;: &quot;if ($title = '') then '(n.t.)' else substring($title,
0, 1)&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>       {&quot;name&quot;:
&quot;authorAlphabet&quot;, &quot;descr&quot;: &quot;First letter of author
surname&quot;, &quot;value&quot;: &quot;if ($author = '') then '(n.a.)' else
substring($author, 0, 1)&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>       {&quot;name&quot;:
&quot;date&quot;, &quot;descr&quot;: &quot;Year of manuscript&quot;, <br>
&quot;value&quot;: &quot;$date&quot;}</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>     ]</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>    }</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>  ]</span></span></p>

<p class=MsoNormal style='margin-left:3.0cm;text-indent:-3.0cm;background:#EAF1DD'><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>}</span></span></p>

<p class=ParaFirst><span lang=EN-US>The essential sections from the crp-info.json
file:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>corpora</span></span><span
lang=EN-US>. This defines key ingredients used by CorpusStudio:</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>lng </span></span><span
lang=EN-US>the language code. This must coincide with a directory name:<br>
</span><span class=CodeInLine><span lang=EN-US style='font-size:10.0pt'>/etc/corpora/lak_cyr</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>metavar </span></span><span
lang=EN-US>the name of the set of variables used for input restriction and
grouping</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>parts </span></span><span
lang=EN-US>one or more parts of the corpus, as identifiable by the sub
directory (the attribute ‘</span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>dir’</span></span><span lang=EN-US>) within the corpus
directory. Here:<br>
</span><span class=CodeInLine><span style='font-size:10.0pt'>/etc/corpora/lak_cyr/PCMLBE</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>metavar</span></span><span
lang=EN-US>. This provides common variable names and their Xquery definitions.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>name </span></span><span
lang=EN-US>The name of this section. It must correspond with the value of the ‘</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>metavar’</span></span><span
lang=EN-US> attribute in the ‘</span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>corpora</span></span><span lang=EN-US>’ section.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>variables </span></span><span
lang=EN-US>A list of all the variables that can be used in the definition of input
restrictions as well as groupings. It is the variable names defined here that
occur in the selection box for the input restriction definition of the
Projects/Input page of CorpusStudio. Only the variables that are defined here
may occur later in the ‘</span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>groupings’</span></span><span lang=EN-US> section.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>tagset </span></span><span
lang=EN-US>This is, in the current version of CorpusStudio, a fixed list of
names and the labels (POS or class tags) that are to be associated with them. The
labels are generally defined by a ‘def’ specifiction. Where such a
specification is not enough, a ‘</span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>fs’</span></span><span lang=EN-US>
specification may specify the name and the value of a feature. The ‘</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>vbFin’</span></span><span
lang=EN-US> definition for ‘sonar’ files, for instance, is defined as:<br>
</span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>{&quot;title&quot;:
&quot;vbFin&quot;,      &quot;def&quot;: &quot;WW*&quot;, &quot;fs&quot;:
[{&quot;alp/wvorm&quot;: &quot;pv&quot;}]}</span></span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:54.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><span class=Emphatic><span lang=EN-US>groupings </span></span><span
lang=EN-US>The idea of result-groupings is in the process of being coded in
CorpusStudio. The indicated section is a sample of the standard groupings every
‘</span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>metavar</span></span><span
lang=EN-US>’ section must provide. The ‘</span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>value’</span></span><span lang=EN-US> part
of each grouping is an Xquery expression that results into a string label that
identifies the ‘result group’ one particular file belongs to.</span></p>

<h3><a name="_Toc312497055"><span lang=EN-US>8.1.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>File crpstudio-settings.json</span></a></h3>

<p class=ParaFirst><span lang=EN-US>The directory /etc/crpstudio must contain a
file named crpstudio-settings.json with the user/password information for the
users that are allowed to make use of the version of CorpusStudio being used.</span></p>

<p class=MsoNormal style='margin-left:36.0pt;background:#EAF1DD'><span
class=ProgramCode><span style='font-size:9.0pt'>{ &quot;users&quot;: [</span></span></p>

<p class=MsoNormal style='margin-left:36.0pt;background:#EAF1DD'><span
class=ProgramCode><span style='font-size:9.0pt'>    {&quot;name&quot;:
&quot;erwin&quot;,   &quot;password&quot;: &quot;xx&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:36.0pt;background:#EAF1DD'><span
class=ProgramCode><span style='font-size:9.0pt'>    {&quot;name&quot;:
&quot;erkomen&quot;, &quot;password&quot;: &quot;xx&quot;},</span></span></p>

<p class=MsoNormal style='margin-left:36.0pt;background:#EAF1DD'><span
class=ProgramCode><span style='font-size:9.0pt'>    {&quot;name&quot;:
&quot;guest&quot;,   &quot;password&quot;: &quot;xx&quot;}</span></span></p>

<p class=MsoNormal style='margin-left:36.0pt;background:#EAF1DD'><span
class=ProgramCode><span style='font-size:9.0pt'>  ]</span></span></p>

<p class=MsoNormal style='margin-left:36.0pt;background:#EAF1DD'><span
class=ProgramCode><span style='font-size:9.0pt'>}</span></span></p>

<h3><a name="_Toc312497056"><span lang=EN-US>8.1.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>File crpp-settings.json</span></a></h3>

<p class=ParaFirst><span lang=EN-US>The /crpp ‘machine’ is the query-crunching
motor serving the CorpusStudio web application. Its parameters are specified by
the file crpp-settings.json that should be located in the main user’s webapps
directory (that would be </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>/home/crphome/webapps</span></span><span lang=EN-US> in
the running example). The format and contents of this settings file have been
borrowed from the BlackLab code.</span><a href="#_ftn10" name="_ftnref10"
title=""><span class=MsoFootnoteReference><span lang=EN-US><span
class=MsoFootnoteReference><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman","serif"'>[10]</span></span></span></span></a><span
lang=EN-US> Here is a sample of its contents.</span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>{ // Corpus Research Project Processor
config file</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  //
===============================================================</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  // A list of IPs that will run in debug
mode.</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  &quot;debugModeIps&quot;: [</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    &quot;127.0.0.1&quot;,      // IPv4
localhost</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    &quot;0:0:0:0:0:0:0:1&quot; // IPv6
localhost</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  ],</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  // Specify the maximum number of
&quot;XqF&quot; jobs allowed</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  &quot;maxparjobs&quot;: 18,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  // List of important directories</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  &quot;projectBase&quot;:
&quot;/etc/project&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  &quot;corpusBase&quot;:
&quot;/etc/corpora&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  // A list of possible Engines, with the
default engine identified</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  &quot;pinfo&quot;: {</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    &quot;ProjectType&quot;:
&quot;Xquery-psdx&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    &quot;Xquery-psdx&quot;: {</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Description</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;Descr&quot;: &quot;Xquery with
XML output&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Extension of query files</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;Qext&quot;: &quot;.xq&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Extension of definition files</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;Dext&quot;: &quot;.xq&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Extension of source files</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;SrcExt&quot;: &quot;.psdx&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Start and end of comments</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;ComBeg&quot;: &quot;(:&quot;,
&quot;ComEnd&quot;: &quot;:)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // The 'engine' that is being used</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;Engine&quot;:
&quot;Xquery&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Default definition and period file
locations</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;DefaultDefFile&quot;:
&quot;&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;DefaultPerFile&quot;:
&quot;&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Text of default query</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;DefaultQuery&quot;: [</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;&lt;TEI&gt;&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;{&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot; for $search in
//eTree[ru:matches(@Label, $_matrixIP)]&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  (: Use your own 'let'
definitions here :)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  let $sbj :=
tb:SomeChildNo($search, $_subject, $_nosubject)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  (: Define your 'where'
definition here :)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  where ( exists($sbj)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;        )&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot; return
ru:back($search)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;}&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;&lt;/TEI&gt;&quot;]</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    },</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    &quot;FoLiA-xml&quot;: {</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Description</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;Descr&quot;: &quot;Xquery with
XML output&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Extension of query files</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;Qext&quot;: &quot;.xq&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Extension of definition files</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;Dext&quot;: &quot;.xq&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Extension of source files</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;SrcExt&quot;:
&quot;.folia.xml&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Start and end of comments</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;ComBeg&quot;: &quot;(:&quot;,
&quot;ComEnd&quot;: &quot;:)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // The 'engine' that is being used</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;Engine&quot;:
&quot;Xquery&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Default definition and period file
locations</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;DefaultDefFile&quot;:
&quot;&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;DefaultPerFile&quot;:
&quot;&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // Text of default query</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;DefaultQuery&quot;:  [</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;&lt;FoLiA&gt;&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;{&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  (: Look for all main clauses
within this sentence :)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  for $search in
//su[ru:matches(@cat, 'smain')]&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  (: Get the subject of this
particular main clause :)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  let $sbj :=
$search/child::su[@rel='su']&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  (: Do not allow empty
(elided) subjects :)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  where ( &quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;           exists($sbj) and
(count($sbj/child::su)&gt;0)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;        )&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  (: Return the main clause :)
&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;  return
ru:back($search)&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;}&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>        &quot;&lt;/FoLiA&gt;&quot;]</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    }</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  },</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  // The location and parameters for each
language-corpus index</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  //
---------------------------------------------------------------</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  // (missing indices will be skipped)</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  &quot;indices&quot;: {</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    &quot;lak_cyr&quot;: {</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;dir&quot;:
&quot;/etc/corpora/lak_cyr&quot;,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;mayViewContent&quot;: true</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    }</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  },</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  // Settings related to tuning server load
and client responsiveness</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  //
---------------------------------------------------------------</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>  &quot;performance&quot;: {</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    // Settings for job caching.</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    &quot;cache&quot;: {</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // How many search jobs will we cache
at most? </span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;maxNumberOfJobs&quot;: 200,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // After how much seconds will a
search job be removed from the cache?</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;maxJobAgeSec&quot;: 3600,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // How many MB free memory the cache
should aim for while cleaning up.</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;targetFreeMemMegs&quot;: 500,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // When there's less free memory
available than targetFreeMemMegs,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // each time a job is created and
added to the cache, </span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // get rid of this number of older
jobs in order</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      // to free up memory </span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>      &quot;numberOfJobsToPurgeWhenBelowTargetMem&quot;:
2</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    },</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    // The minimum amount of free memory
required to start a new search job. </span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    &quot;minFreeMemForSearchMegs&quot;:
100,</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    // The maximum number of jobs a user is
allowed </span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    // to have running at the same time. </span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>    </span></span><span class=ProgramCode><span
style='font-size:9.0pt'>&quot;maxRunningJobsPerUser&quot;: 100</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
style='font-size:9.0pt'>    }</span></span></p>

<p class=MsoNormal style='background:#EAF1DD'><span class=ProgramCode><span
style='font-size:9.0pt'>  }}</span></span></p>

<h3><a name="_Toc312497057">8.1.6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Software sources</a></h3>

<p class=ParaFirst><span lang=EN-US>The source for the Java/JavaScript software
that needs to be compiled consists of three parts, all of which can be
downloaded from </span><a href="https://github.com/ErwinKomen"><span
lang=EN-US>https://github.com/ErwinKomen</span></a><span lang=EN-US>: </span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>CrpxProcessor         -
The Xquery search ‘engine’. Can run as command-line application.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>CrppServer              -
The ‘service’ shell around CrpxProcessor. Requires the latter.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>CrpStudio                -
CorpusStudio web application. Uses CrpxProcessor internally too.</p>

<p class=ParaFirst><span lang=EN-US>The three programs have been developed
under NetBeans, but it should be possible to get them running under different
IDE’s. The ‘github’ sources only provide the Java and JavaScript sources. </span></p>

<p class=ParaFirst><span lang=EN-US>Each of the programs listed above contains
a ‘lib’ directory with .jar files it makes use of (not on github):</span></p>

<table class=MsoTableLightListAccent3 border=1 cellspacing=0 cellpadding=0
 width="100%" style='width:100.0%;border-collapse:collapse;border:none'>
 <tr>
  <td width="29%" valign=top style='width:29.42%;border-top:solid #9BBB59 1.0pt;
  border-left:solid #9BBB59 1.0pt;border-bottom:none;border-right:none;
  background:#9BBB59;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span style='color:white'>Package</span></b></p>
  </td>
  <td width="70%" valign=top style='width:70.58%;border-top:solid #9BBB59 1.0pt;
  border-left:none;border-bottom:none;border-right:solid #9BBB59 1.0pt;
  background:#9BBB59;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b><span style='color:white'>Libraries needed</span></b></p>
  </td>
 </tr>
 <tr>
  <td width="29%" valign=top style='width:29.42%;border:solid #9BBB59 1.0pt;
  border-right:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b>CrpxProcessor</b></p>
  </td>
  <td width="70%" valign=top style='width:70.58%;border:solid #9BBB59 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>log4j-1.2.15.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>saxon9-s9api.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>saxon9.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>saxon9-dom.jar</span></span></p>
  </td>
 </tr>
 <tr>
  <td width="29%" valign=top style='width:29.42%;border:none;border-left:solid #9BBB59 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b>CrppServer</b></p>
  </td>
  <td width="70%" valign=top style='width:70.58%;border:none;border-right:solid #9BBB59 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>log4j-1.2.15.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>CrpxProcessor/dist/CrpxProcessor.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>CrpxProcessor/lib/saxon9-s9api.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>CrpxProcessor/lib/saxon9.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>CrpxProcessor/lib/saxon9-dom.jar</span></span></p>
  </td>
 </tr>
 <tr>
  <td width="29%" valign=top style='width:29.42%;border:solid #9BBB59 1.0pt;
  border-right:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b>CrpStudio</b></p>
  </td>
  <td width="70%" valign=top style='width:70.58%;border:solid #9BBB59 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>log4j-1.2.15.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>velocity-tools-view-2.0.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>velocity-1.7.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>commons-collections-3.2.1.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>commons-lang-2.4.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>vtd-xml.jar</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>CrpxProcessor/dist/CrpxProcessor.jar</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc312497058"><span lang=EN-US>8.1.7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Running</span></a></h3>

<p class=ParaFirst><span lang=EN-US>The CorpusStudio web application can be
started up by (re-)starting tomcat. A possible startup script could be
“crpstudio.sh”:</span></p>

<p class=MsoNormal><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'> sudo service tomcat restart</span></span></p>

<p class=MsoNormal><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'> sudo cp ~/*.empty /usr/share/tomcat/logs/catalina.out</span></span></p>

<p class=MsoNormal><span class=ProgramCode><span lang=EN-US style='font-size:
9.0pt'> sudo tail -n 400 /usr/share/tomcat/logs/catalina.out</span></span></p>

<p class=ParaFirst><span lang=EN-US>This assumes the presence of an empty file
called “catalina.empty” in the user’s home directory, it assumes one is running
CentOS (hence the “sudo”) and one’s account has sudo-rights established. </span></p>

<p class=ParaFirst><span lang=EN-US>The application should be running once the
Tomcat log file logs a message like “</span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>INFO: Server startup in 9309 ms</span></span><span
lang=EN-US>”. See </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>/usr/share/tomcat/logs/catalina.out</span></span><span
lang=EN-US>.</span></p>

<h2><a name="_Toc312497059"></a><a name="_Ref312489735"><span lang=EN-US>8.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Useful Xquery function definitions</span></a></h2>

<p class=ParaFirst><span lang=EN-US>While one is definitely at liberty to make one’s
own Xquery functions, this section offers a number of useful functions that
could be used for CorpusStudio. </span></p>

<p class=ParaNext><span lang=EN-US>Note that some of these functions use
built-in Xquery functions which are described in section </span><span lang=EN-US>8.3</span><span lang=EN-US>. Since they make use of the CorpusStudio
in-built facilities, such user-defined Xquery functions will obviously not work
outside of CorpusStudio.</span></p>

<h3><a name="_Toc312497060">8.2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Functions for Psdx projects</a></h3>

<p class=ParaFirst><span lang=EN-US>A number of Xquery functions have been
created for projects that take texts in the Psdx format as input. The table that
is to appear here (in due course) will provide an overview of these functions,
divided over the definition files in which they can be found. </span></p>

<p class=MsoNormal>&nbsp;</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=137 valign=top style='width:102.8pt;border:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b>Section</b></p>
  </td>
  <td width=144 valign=top style='width:108.15pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b>User-function</b></p>
  </td>
  <td width=331 valign=top style='width:248.05pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-left:15.85pt;text-indent:-15.85pt'><b>Description</b></p>
  </td>
 </tr>
 <tr>
  <td width=137 valign=top style='width:102.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>Standard_xq-def</span></span></p>
  </td>
  <td width=144 valign=top style='width:108.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><i>(declaration of common variables)</i></p>
  </td>
  <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-left:15.85pt;text-indent:-15.85pt'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=137 valign=top style='width:102.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>Coref_xq-def</span></span></p>
  </td>
  <td width=144 valign=top style='width:108.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:Coref</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:CorefLink</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:CorefDist</span></span></p>
  </td>
  <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-left:15.85pt;text-indent:-15.85pt'>Find
  nodes of a particular ‘coref’ type</p>
  <p class=MsoNormal style='margin-left:15.85pt;text-indent:-15.85pt'>Nodes of
  a ‘coref’ with a specified ref distance </p>
  <p class=MsoNormal style='margin-left:15.85pt;text-indent:-15.85pt'>Get the
  antecedent distance of a node</p>
  </td>
 </tr>
 <tr>
  <td width=137 valign=top style='width:102.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>RefState_xq-def</span></span></p>
  </td>
  <td width=144 valign=top style='width:108.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:RefStateA</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:RefStateLUA</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:RefStateAct</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:RefStateP</span></span></p>
  </td>
  <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-left:15.85pt;text-indent:-15.85pt'>Calculate
  referential states according to different protocols, including <i>estimation </i>of
  the referential state</p>
  </td>
 </tr>
 <tr>
  <td width=137 valign=top style='width:102.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>Relations_xq-def</span></span></p>
  </td>
  <td width=144 valign=top style='width:108.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:SomeChild 
  tb:AllStarred  tb:IsStarred</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:SpecialChild
  tb:AllChildren tb:FirstChild</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:SomeCHildNo
  tb:SomeDescendant tb:AnyFirstChild</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:Contains 
  tb:ChildLabel</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:HasChild 
  tb:HasDescendant</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:HasDescOrSelf
  tb:HasOnlyChild</span></span></p>
  </td>
  <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-left:15.85pt;text-indent:-15.85pt'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=137 valign=top style='width:102.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>Report_xq-def</span></span></p>
  </td>
  <td width=144 valign=top style='width:108.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:Labelled 
  tb:Sentence  tb:GrRole</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:Phrases 
  tb:Syntax  tb:ChainText</span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:English 
  tb:HasEnglish  tb:ConstType</span></span></p>
  </td>
  <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-left:15.85pt;text-indent:-15.85pt'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=137 valign=top style='width:102.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>Tests_xq-def</span></span></p>
  </td>
  <td width=144 valign=top style='width:108.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:IsMain 
  tb:GetCfType </span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:IsInFinite 
  tb:IsExpl  tb:IsAnyExpl </span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:HasLocContr
  tb:HasFocAdv  tb:HasAnchor </span></span></p>
  <p class=MsoNormal><span class=ProgramCode><span style='font-size:9.0pt'>tb:HasLeaf 
  tb:HasFeature  tb:IsCata</span></span></p>
  </td>
  <td width=331 valign=top style='width:248.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-left:15.85pt;text-indent:-15.85pt'>&nbsp;</p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=ParaFirst><span lang=EN-US>Future releases of CorpusStudio are
intended to allow making use of these functions by incorporating these files
into one’s project through the Projects / Definitions / New / <span
class=Emphatic>Definition Wizard</span> option.</span></p>

<h3><a name="_Toc312497061"><span lang=EN-US>8.2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Convert a chain into a sequence</span></a></h3>

<p class=ParaFirst><span lang=EN-US>You might want to convert a following or
preceding coreferential chain into a sequence of nodes, which you can then
process using the standard Xquery sequence processing FLOWR functionality. The
following Xquery function recursively converts a chain into such a sequence,
and it starts at the node you provided.</span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>(:
----------------------------------------------------------------</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>   Name : tb:Chain</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>   Goal : Get all
the nodes on the chain started by [$ndThis]</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>   History:</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>   03-04-2012 ERK    Created
</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>  
---------------------------------------------------------------- :)</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>declare function
tb:Chain($ndThis as node()*) as node()*</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>{</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>   (: Get the next
element -- if existing :)</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>   let $nxt := if
(count($ndThis)=1) then ru:chnextidt($ndThis)</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>               else
ru:chnextidt( ($ndThis/.)[last()])</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>   (: Combine the
new node with the others :)</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>   return</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>     if
(exists($nxt)) then  $ndThis union tb:Chain($nxt)</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>     else $ndThis</span></span></p>

<p class=MsoNormal style='margin-left:5.25pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span style='font-size:9.0pt'>};</span></span></p>

<p class=ParaFirst>&nbsp;</p>

<span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman","serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><b><span lang=EN-US>&nbsp;</span></b></p>

<h2><a name="_Toc312497062"></a><a name="_Toc298090984"></a><a
name="_Toc417138224"></a><a name="_Ref321309617"><span lang=EN-US>8.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Built-in functions for Xquery-psdx projects</span></a></h2>

<p class=ParaFirst><span lang=EN-US>Several Xquery functions have been built
into CorpusStudio that serve to facilitate working with FoLiA-xml and Xquery-psdx
projects. The functions are described in this section. All functions are part
of the </span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:</span></span><span
lang=EN-US> namespace.</span></p>

<h3><a name="_Toc312497063"></a><a name="_Ref312473535">8.3.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:back</a></h3>

<p class=Function><span lang=EN-US>Definition:         <span class=Emphatic>ru:back</span>(<span
class=Argument>ndArg1</span>, <span class=Argument>strMsg</span>, <span
class=Argument>strCat</span>) </span></p>

<p class=Function><span lang=EN-US>Types:              <span class=Argument>ndArg1</span>     node()</span></p>

<p class=Function><span class=Argument><span lang=EN-US>                        strMsg</span></span><span
lang=EN-US>      xs:string        <i>(optional)</i></span></p>

<p class=Function><span class=Argument><span lang=EN-US>                        strCat</span></span><span
lang=EN-US>       xs:string        <i>(optional)</i></span></p>

<p class=Function><span lang=EN-US>                        output       node()</span></p>

<p class=Function><span lang=EN-US>Description:      This built-in function is
an obligatory one for the CorpusStudio web application. It should be placed at
the end of the main </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>for … let … where … return</span></span><span
lang=EN-US> (FLOWR) loop, as part of the </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>return </span></span><span lang=EN-US>statement.
The function returns a node that is supplied with additional attributes, such
as the identifier of the <span class=Argument>ndArg1 </span>node.<a
href="#_ftn11" name="_ftnref11" title=""><span class=MsoFootnoteReference><span
class=MsoFootnoteReference><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman","serif"'>[11]</span></span></span></a></span></p>

<p class=Function><span lang=EN-US>                        There are two
optional (string) variables that can be supplied. The variable <span
class=Argument>strMsg</span> may contain a string (produced for example using
Xquery standard <span class=Emphatic>concat</span>) with information that is
supplied with the output of this particular result. The variable <span
class=Argument>strCat</span> may contain a subcategorization string. The output
for this particular queryline will then, in addition to the normal tabular
output, be subdivided over the values of <span class=Argument>strCat</span>.
One may, for example, take NP features such as the <span class=Emphatic>NPtype</span>
or the <span class=Emphatic>GrRole</span> as subcategorization values.</span></p>

<p class=Function><span lang=EN-US>                        A user implementation
that could, in principle, be used instead of the built-in ru:back function
should minimally look as follows:</span></p>

<p class=Function><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal style='margin-left:76.3pt;text-indent:-5.4pt;page-break-after:
avoid;text-autospace:none'><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>declare function tb:back($ndThis as element()?) as
element()</span></span></p>

<p class=MsoNormal style='margin-left:76.3pt;text-indent:-5.4pt;page-break-after:
avoid;text-autospace:none'><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>{</span></span></p>

<p class=MsoNormal style='margin-left:76.3pt;text-indent:-5.4pt;page-break-after:
avoid;text-autospace:none'><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>    (: Get the &lt;forest&gt; element of which we are
part :)</span></span></p>

<p class=MsoNormal style='margin-left:76.3pt;text-indent:-5.4pt;page-break-after:
avoid;text-autospace:none'><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>    let $src := $ndThis/ancestor-or-self::forest</span></span></p>

<p class=MsoNormal style='margin-left:76.3pt;text-indent:-5.4pt;page-break-after:
avoid;text-autospace:none'><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>    (: Get the ID of ourself :)</span></span></p>

<p class=MsoNormal style='margin-left:76.3pt;text-indent:-5.4pt;page-break-after:
avoid;text-autospace:none'><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>    let $id  := $ndThis/@Id</span></span></p>

<p class=MsoNormal style='margin-left:76.3pt;text-indent:-5.4pt;page-break-after:
avoid;text-autospace:none'><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=MsoNormal style='margin-left:76.3pt;text-indent:-5.4pt;page-break-after:
avoid;text-autospace:none'><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>    (: Copy the attributes to a new forest element :)</span></span></p>

<p class=MsoNormal style='margin-left:76.3pt;text-indent:-5.4pt;page-break-after:
avoid;text-autospace:none'><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>    return element forest { attribute TreeId
{$id},$src/@* }</span></span></p>

<p class=MsoNormal style='margin-left:76.15pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>};</span></span></p>

<p class=MsoNormal style='margin-left:76.15pt;text-indent:-5.25pt;text-autospace:
none'><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&nbsp;</span></span></p>

<p class=Function><span lang=EN-US>                        The built-in </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:back()</span></span><span
lang=EN-US> function does a bit more when it comes to the second argument <span
class=Argument>strMsg</span>. When <span class=Argument>strMsg</span> contains
a semi-colon-separated list of values, these may internally be interpreted as
the feature values for an <i>xml</i>-coded &quot;Result Database&quot; that is
to be produced as a result of the query.</span></p>

<h3><a name="_Toc312497064"></a><a name="_Toc298090986"></a><a
name="_Toc417138237">8.3.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:conv</a></h3>

<p class=Function style='page-break-after:avoid'><span lang=EN-US>Definition:         <span
class=Emphatic>ru:conv</span>(<span class=Argument>strText</span>, <span
class=Argument>strType</span>) </span></p>

<p class=Function><span lang=EN-US>Types:              <span class=Argument>strText</span>      xs:string</span></p>

<p class=Function><span lang=EN-US>                        <span
class=Argument>strType</span>     xs:string        </span><span lang=EN-US
style='font-family:Wingdings'>à</span><span lang=EN-US> ‘OE’, ‘Lcase’, ‘Ucase’,
‘clean’</span></p>

<p class=Function><span lang=EN-US>                        output       xs:string</span></p>

<p class=Function><span lang=EN-US>Description:      The string <span
class=Argument>strText</span> is converted on the basis of the conversino type specified
in <span class=Argument>strType</span>. Two conversion types are currently
supported. The first one, signalled by “OE”, converts +a, +t, +d etc into their
corresponding unicode strings æ, þ, and ð respectively. The second and third
one, signalled by “Lcase” and “Ucase”, convert the string into its lower-case
or upper-case equivalent respectively. (Case conversion can also be
accomplished by using String functions that are part of the Xquery version-1-or
higher package.)</span></p>

<p class=Function><span lang=EN-US>                        A few combinations
are allowed too: ‘Lcase+OE’ and ‘Ucase+OE’.</span></p>

<h3><a name="_Toc298090987"></a><a name="_Toc417138242"></a><a
name="_Toc312497065">8.3.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:docroot</a></h3>

<p class=Function><span lang=EN-US>Definition:         <span class=Emphatic>ru:docroot</span>()
    </span></p>

<p class=Function><span lang=EN-US>Types:              output       node()</span></p>

<p class=Function><span lang=EN-US>Status:              <i>superseded by </i></span><span
class=ProgramCode><span style='font-size:9.0pt'>ru:header</span></span></p>

<p class=Function><span lang=EN-US>Description:      Return the highest node in
the current document. This is the </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&lt;TEI&gt;</span></span><span lang=EN-US>
root in .psdx files, and the </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>&lt;FoLiA&gt;</span></span><span lang=EN-US> root in
.folia.xml files. This function is included for backward compatibility but it
should not be used in the Corpus Studio web application. The Windows version of
CorpusStudio works file-by-file, so that it makes sense to have a pointer to
the document as a whole. But the web implementation works part-by-part (where
one part is a sentence or the header). Access the the information in the header
is provided by the </span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>ru:header</span></span><span lang=EN-US>() function.</span></p>

<h3><a name="_Toc312497066">8.3.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:feature</a></h3>

<p class=Function><span lang=EN-US>Definition:         <span class=Emphatic>ru:feature</span>(<span
class=Argument>ndArg1</span>, <span class=Argument>strName</span>) </span></p>

<p class=Function><span lang=EN-US>Types:              <span class=Argument>ndArg1</span>     node()</span></p>

<p class=Function><span lang=EN-US>                        <span
class=Argument>strName</span>    xs:string</span></p>

<p class=Function><span lang=EN-US>                        output       xs:string</span></p>

<p class=Function><span lang=EN-US>Description:      Get the feature value of
the feature named <span class=Argument>strName</span>. This is equivalent to </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ndArg1/child::fs/child::f[@name=’strName’]/@value</span></span><span
lang=EN-US>. The string with this value is returned.</span></p>

<h3><a name="_Toc298090988"></a><a name="_Toc417138246"></a><a
name="_Toc312497067">8.3.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:header</a></h3>

<p class=Function><span lang=EN-US>Definition:         <span class=Emphatic>ru:header</span>()
     </span></p>

<p class=Function><span lang=EN-US>Types:              output       node()</span></p>

<p class=Function><span lang=EN-US>Description:      Return the 'header' node
of the current document. This is the </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&lt;teiHeader&gt;</span></span><span
lang=EN-US> node in .psdx files, while it is the </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&lt;metadata&gt;</span></span><span
lang=EN-US> node in .folia.xml files. This header may contain metadata
information that is of interest to the user. Some corpora have their metadata
in separate .imdi or .cmdi files. This information can be accessed using the </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:mdi</span></span><span
lang=EN-US>() function.</span></p>

<h3><a name="_Toc312497068">8.3.6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:lex</a></h3>

<p class=Function><span lang=EN-US>Definition:         <span class=Emphatic>ru:lex</span>(<span
class=Argument>strWord, strPos</span>) </span></p>

<p class=Function><span lang=EN-US>Types:              <span class=Argument>strWord</span>    xs:string</span></p>

<p class=Function><span lang=EN-US>                        <span
class=Argument>strPos</span>       xs:string</span></p>

<p class=Function><span lang=EN-US>                        output       xs:boolean</span></p>

<p class=Function><span lang=EN-US>Description:      Add the word <span
class=Argument>strWord</span> to a list of lexicon/dictionary entries, keeping
track of the frequency. Forms with different part-of-speech tags (<span
class=Argument>strPos</span>) are kept separate. The resulting dictionary can
be opened using Cesax.<br>
(The current version of Corpusstudio web does not yet have the user interface
to handle lexicons that have been made.)<br>
Words taken from the English historical corpora that are passed on to the
lexicon are advised to be treated first through <span class=Emphatic>ru:conv</span>(…,
‘<span class=Argument>Lcase+OE’</span>). This makes sure the lexemes are kept
case-insensitive and the possible leading $-signs are filtered out.</span></p>

<h3><a name="_Toc312497069"></a><a name="_Toc298090989"></a><a
name="_Toc417138247">8.3.7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:line</a></h3>

<p class=Function style='page-break-after:avoid'>Definition:         <span
class=Emphatic>ru:line</span>(<span class=Argument>intNumber</span>) </p>

<p class=Function>Types:              <span class=Argument>intNumber</span> xs:integer</p>

<p class=Function>                        output               node()</p>

<p class=Function><span lang=EN-US>Description:      Return the sentence that
is <span class=Argument>intNumber</span> lines further away from me (if
positive) or before me (if negative). The “sentence” is a </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&lt;forest&gt;</span></span><span
lang=EN-US> element for the <i>psdx</i> projects.<br>
A special case is <span class=Emphatic>ru:line</span></span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>(0)</span></span><span
lang=EN-US>, which returns the current </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>&lt;forest&gt;</span></span><span
lang=EN-US> element in such a way, that the preceding and following forests (as
well as the hierarchically higher nodes) can be accessed.</span></p>

<h3><a name="_Toc312497070"></a><a name="_Ref438553718"></a><a
name="_Toc298090990"></a><a name="_Toc417138249">8.3.8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:matches</a></h3>

<p class=Function><span lang=EN-US>Definition:         <span class=Emphatic>ru:matches</span>(<span
class=Argument>strText</span>, <span class=Argument>strPattern</span>) </span></p>

<p class=Function><span lang=EN-US>Types:              <span class=Argument>strText</span>      xs:string</span></p>

<p class=Function><span lang=EN-US>                        <span
class=Argument>strPattern</span>  xs:string</span></p>

<p class=Function><span lang=EN-US>                        output       xs:boolean</span></p>

<p class=Function><span lang=EN-US>Description:      The string <span
class=Argument>strText</span> is compared with the pattern supplied by <span
class=Argument>strPattern</span>. The behaviour is much like the visual basic
function </span><b><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New"'>like</span></b><span
lang=EN-US>. The <span class=Argument>strPattern</span> can contain a set of
different patterns, separated by a vertical bar “</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>|</span></span><span
lang=EN-US>”. Here is an example: </span><span class=ProgramCode><span
lang=EN-US style='font-size:9.0pt'>ru:matches(“NP-POS-3”, “NP|NP-*”)</span></span><span
lang=EN-US>. This function will return <i>true</i>, since </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>NP-POS-3</span></span><span
lang=EN-US> matches with the second pattern in the list: </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>NP-*</span></span><span
lang=EN-US>. </span></p>

<p class=Function><span lang=EN-US>Definition:         <span class=Emphatic>ru:matches</span>(<span
class=Argument>strText</span>, <span class=Argument>strPatYes, strPatNo</span>)
</span></p>

<p class=Function><span lang=EN-US>Types:              <span class=Argument>strText</span>      xs:string</span></p>

<p class=Function><span lang=EN-US>                        <span
class=Argument>strPatYes</span>  xs:string</span></p>

<p class=Function><span lang=EN-US>                        <span
class=Argument>strPatNo</span>   xs:string</span></p>

<p class=Function><span lang=EN-US>                        output       xs:boolean</span></p>

<p class=Function><span lang=EN-US>Description:      The string <span
class=Argument>strText</span> should match the pattern supplied by <span
class=Argument>strPatYes</span>, but should not match that of <span
class=Argument>strPatNo</span>. The behaviour is much like the visual basic
function </span><b><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New"'>like</span></b><span
lang=EN-US>. The <span class=Argument>strPatYes</span> and <span
class=Argument>strPatNo</span> can contain a set of different patterns,
separated by a vertical bar “</span><span class=ProgramCode><span lang=EN-US
style='font-size:9.0pt'>|</span></span><span lang=EN-US>”. Here is an example: </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:matches(“NP-POS-3”,
“NP|NP-*”, “NP-VOC”)</span></span><span lang=EN-US>. This function will return <i>true</i>,
since </span><span class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>NP-POS-3</span></span><span
lang=EN-US> matches with the second pattern in the list: </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>NP-*</span></span><span
lang=EN-US>, and it does <i>not</i> match with the pattern </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>NP-VOC</span></span><span
lang=EN-US>. </span></p>

<h3><a name="_Toc298090991"></a><a name="_Toc417138251"></a><a
name="_Toc312497071"></a><a name="_Toc417138250">8.3.9<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:message</a></h3>

<p class=Function>Definition:         <span class=Emphatic>ru:message</span>(<span
class=Argument>strText</span>) </p>

<p class=Function>Types:              <span class=Argument>strText</span>      xs:string</p>

<p class=Function>                        output       xs:boolean</p>

<p class=Function><span lang=EN-US>Description:      The output of this
function is always <i>true</i>. When the function is evaluated (which happens
when it occurs in a boolean expression), a message box is displayed with the
message <span class=Argument>strText</span>, and the user can press “OK”.</span></p>

<h3><a name="_Toc312497072">8.3.10<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:mdi</a></h3>

<p class=Function><span lang=EN-US>Definition:         <span class=Emphatic>ru:mdi</span>()
  </span></p>

<p class=Function><span lang=EN-US>Types:              output       node()</span></p>

<p class=Function><span lang=EN-US>Status:              <i>implemented</i></span></p>

<p class=Function><span lang=EN-US>Description:      Return the root node of
the metadata stored in the .imdi or .cmdi file associated with the current
document. The files in the CGN (corpus of spoken Dutch) have their metadata in
.imdi files, while the .cmdi files typically (but not necessarily) co-occur
with folia files. If no .imdi or .cmdi file is available the function returns
an empty node.</span></p>

<h3><a name="_Toc312497073">8.3.11<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Function ru:nodeText</a></h3>

<p class=Function>Definition:         <span class=Emphatic>ru:NodeText</span>(<span
class=Argument>ndArg1</span>)</p>

<p class=Function>                        <span class=Emphatic>ru:NodeText</span>(<span
class=Argument>ndArg1</span>, <span class=Argument>strType</span>) </p>

<p class=Function>Types:              <span class=Argument>ndArg1</span>     node()</p>

<p class=Function><span lang=EN-US>                        <span
class=Argument>strType</span>     xs:string        </span><span lang=EN-US
style='font-family:Wingdings'>à</span><span lang=EN-US> ‘OE’, ‘Lcase’, ‘Ucase’,
‘clean’</span></p>

<p class=Function><span class=Argument><span lang=EN-US>                        </span></span><span
lang=EN-US>output       xs:string</span></p>

<p class=Function><span lang=EN-US>Description:      Return the text of the
terminal nodes within <span class=Argument>ndArg1</span>. The text is delivered
as it is, separated by spaces where needed. A second argument <span
class=Argument>strType</span> allows implicit use of the function <span
class=Emphatic>ru:conv</span> to streamline the output.</span></p>

<p class=MsoNoSpacing><span lang=EN-US>See also:           <span
class=Emphatic>ru:PhraseText </span></span>(when it <a name="_GoBack"></a>will
be implemented)</p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

<p class=ParaFirst><span lang=EN-US>&nbsp;</span></p>

</div>

<div><br clear=all>

<hr align=left size=1 width="33%">

<div id=ftn1>

<p class=MsoFootnoteText><a href="#_ftnref1" name="_ftn1" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[1]</span></span></span></a>
<span lang=EN-US>This button is only available in the “Project” page.</span></p>

</div>

<div id=ftn2>

<p class=MsoFootnoteText><a href="#_ftnref2" name="_ftn2" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[2]</span></span></span></a>
<span lang=EN-US>The “</span><span class=ProgramCode><span style='font-size:
9.0pt'>ru:</span></span><span lang=EN-US>” namespace is used for
CorpusStudio-internal function, the “</span><span class=ProgramCode><span
style='font-size:9.0pt'>tb:</span></span><span lang=EN-US>” namespace is
intended to be used for the user’s own functions, and the “</span><span
class=ProgramCode><span style='font-size:9.0pt'>functx:</span></span><span
lang=EN-US>” namespace is there to allow one-to-one implementation of any
function available on </span><a href="http://www.xqueryfunctions.com/"><span
lang=EN-US>http://www.xqueryfunctions.com/</span></a> </p>

</div>

<div id=ftn3>

<p class=MsoFootnoteText><a href="#_ftnref3" name="_ftn3" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[3]</span></span></span></a>
<span lang=EN-US>Future releases will also change the “Date last edited” on the
“Definitions” page.</span></p>

</div>

<div id=ftn4>

<p class=MsoFootnoteText><a href="#_ftnref4" name="_ftn4" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[4]</span></span></span></a>
<span lang=EN-US>This may depend on the browser being used and its settings.</span></p>

</div>

<div id=ftn5>

<p class=MsoFootnoteText><a href="#_ftnref5" name="_ftn5" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[5]</span></span></span></a>
<span lang=EN-US>CorpusStudio does not use the <i>xml</i> code that is produced
by the Xquery code. It makes use of the arguments passed to the ‘</span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>ru:back()</span></span><span
lang=EN-US>’ function instead. This means that CorpusStudio is not a
general-purpose Xquery processing platform; it is fine-tuned and optimalized
towards using Xquery’s search and variable-creation mechanisms for the benefit
of linguistic research.</span></p>

</div>

<div id=ftn6>

<p class=MsoFootnoteText><a href="#_ftnref6" name="_ftn6" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[6]</span></span></span></a>
<span lang=EN-US>The ‘where’ part can be skipped, provided the ‘for’ part
restricts the input in the way required by the user. What is usually done,
however, is dividing the restriction between a more general ‘for’ part and a
‘where’ part that fine-tunes the restrictions. This gives code that is more
readable and that lasts longer.</span></p>

</div>

<div id=ftn7>

<p class=MsoFootnoteText><a href="#_ftnref7" name="_ftn7" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[7]</span></span></span></a>
<span lang=EN-US>The observant reader may notice that the first definition
implies the second one, so that </span><span class=ProgramCode><span
style='font-size:9.0pt'>N*-OBJ*</span></span><span lang=EN-US> would be
sufficient.</span></p>

</div>

<div id=ftn8>

<p class=MsoFootnoteText><a href="#_ftnref8" name="_ftn8" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[8]</span></span></span></a>
<span lang=EN-US>Checking for empty nodes is possible through the functions </span><span
class=ProgramCode><span style='font-size:9.0pt'>empty($obj)</span></span><span
lang=EN-US> or  </span><span class=ProgramCode><span style='font-size:9.0pt'>not(exists($obj))</span></span><span
lang=EN-US>.</span></p>

</div>

<div id=ftn9>

<p class=MsoFootnoteText><a href="#_ftnref9" name="_ftn9" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[9]</span></span></span></a>
<span lang=EN-US>The ‘hits-per-group’ and ‘hits-per-division’ options are
planned to be available in future releases. Anything that is found on these tab
pages now is experimental and subject to change.</span></p>

</div>

<div id=ftn10>

<p class=MsoFootnoteText><a href="#_ftnref10" name="_ftn10" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[10]</span></span></span></a>
<span lang=EN-US>Blacklab is a program written by INL. See: </span><a
href="https://github.com/INL/BlackLab"><span lang=EN-US>https://github.com/INL/BlackLab</span></a><span
lang=EN-US>. </span></p>

</div>

<div id=ftn11>

<p class=MsoFootnoteText><a href="#_ftnref11" name="_ftn11" title=""><span
class=MsoFootnoteReference><span class=MsoFootnoteReference><span
style='font-size:10.0pt;font-family:"Times New Roman","serif"'>[11]</span></span></span></a>
<span lang=EN-US>The node that is returned is traditionally the </span><span
class=ProgramCode><span lang=EN-US style='font-size:9.0pt'>&lt;forest&gt;</span></span><span
lang=EN-US> node, as used in the Psdx format. The exact name of the node has
become unimportant, however, since the <i>xml</i> output produced by ru:back()
is not used to build a new <i>xml</i> file. The attributes returned in the node
that is produced by ru:back() <i>are</i> used for different purposes:</span></p>

<p class=MsoFootnoteText style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>The first argument ndArg1 is used as the basis
from which a syntactic outline of the result is built</span></p>

<p class=MsoFootnoteText style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>The second argument strMsg is positioned as a
message with its ‘hit’, and it may be used as feature set for Result database
creation</span></p>

<p class=MsoFootnoteText style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>The third argument strCat is used to divide the
results over the categories it provides.</span></p>

</div>

</div>

</body>

</html>
